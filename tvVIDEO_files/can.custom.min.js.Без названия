!function(exports,global){var origDefine=global.define,get=function(t){var e,n=t.split("."),r=global;for(e=0;e<n.length&&r;e++)r=r[n[e]];return r},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(t,e,n){var r;"function"==typeof e&&(n=e,e=[]);var i,a=[];for(i=0;i<e.length;i++)a.push(exports[e[i]]?get(exports[e[i]]):modules[e[i]]||get(e[i]));if(!e.length&&n.length){r={exports:{}};var o=function(t){return exports[t]?get(exports[t]):modules[t]};a.push(o,r.exports,r)}else a[0]||"exports"!==e[0]?a[0]||"module"!==e[0]||(a[0]={id:t}):(r={exports:{}},a[0]=r.exports,"module"===e[1]&&(a[1]=r));global.define=origDefine;var s=n?n.apply(null,a):void 0;global.define=ourDefine,modules[t]=r&&r.exports?r.exports:s};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}})}({},window),define("can/util/can",[],function(){var t="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global,e={};("undefined"==typeof GLOBALCAN||GLOBALCAN!==!1)&&(t.can=e),e.global=t,e.k=function(){},e.isDeferred=function(t){return e.dev&&e.dev.warn("can.isDeferred: this function is deprecated and will be removed in a future release. can.isPromise replaces the functionality of can.isDeferred."),t&&"function"==typeof t.then&&"function"==typeof t.pipe},e.isPromise=function(t){return!!t&&(window.Promise&&t instanceof Promise||e.isFunction(t.then)&&(void 0===e.List||!(t instanceof e.List)))},e.isMapLike=function(t){return e.Map&&(t instanceof e.Map||t&&t.___get)};var n=0;e.cid=function(t,e){return t._cid||(n++,t._cid=(e||"")+n),t._cid},e.VERSION="@EDGE",e.simpleExtend=function(t,e){for(var n in e)t[n]=e[n];return t},e.last=function(t){return t&&t[t.length-1]},e.isDOM=function(t){return(t.ownerDocument||t)===e.global.document},e.childNodes=function(t){var e=t.childNodes;if("length"in e)return e;for(var n=t.firstChild,r=[];n;)r.push(n),n=n.nextSibling;return r};var r=Function.prototype.bind;r?e.proxy=function(t,e){return r.call(t,e)}:e.proxy=function(t,e){return function(){return t.apply(e,arguments)}},e.frag=function(t,n){var r,i=n||e.document||e.global.document;return t&&"string"!=typeof t?11===t.nodeType?t:"number"==typeof t.nodeType?(r=i.createDocumentFragment(),r.appendChild(t),r):"number"==typeof t.length?(r=i.createDocumentFragment(),e.each(t,function(t){r.appendChild(e.frag(t))}),e.childNodes(r).length||r.appendChild(i.createTextNode("")),r):(r=e.buildFragment(""+t,i),e.childNodes(r).length||r.appendChild(i.createTextNode("")),r):(r=e.buildFragment(null==t?"":""+t,i),r.childNodes.length||r.appendChild(i.createTextNode("")),r)},e.scope=e.viewModel=function(t,n,r){t=e.$(t);var i=e.data(t,"scope")||e.data(t,"viewModel");switch(i||(i=new e.Map,e.data(t,"scope",i),e.data(t,"viewModel",i)),arguments.length){case 0:case 1:return i;case 2:return i.attr(n);default:return i.attr(n,r),t}};var i=function(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return e?{href:e[0]||"",protocol:e[1]||"",authority:e[2]||"",host:e[3]||"",hostname:e[4]||"",port:e[5]||"",pathname:e[6]||"",search:e[7]||"",hash:e[8]||""}:null};return e.joinURIs=function(t,e){function n(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}return e=i(e||""),t=i(t||""),e&&t?(e.protocol||t.protocol)+(e.protocol||e.authority?e.authority:t.authority)+n(e.protocol||e.authority||"/"===e.pathname.charAt(0)?e.pathname:e.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:t.pathname)+(e.protocol||e.authority||e.pathname?e.search:e.search||t.search)+e.hash:null},e["import"]=function(t,n){var r=new e.Deferred;return"object"==typeof window.System&&e.isFunction(window.System["import"])?window.System["import"](t,{name:n}).then(e.proxy(r.resolve,r),e.proxy(r.reject,r)):window.define&&window.define.amd?window.require([t],function(t){r.resolve(t)}):window.steal?steal.steal(t,function(t){r.resolve(t)}):window.require?r.resolve(window.require(t)):r.resolve(),r.promise()},e.__observe=function(){},e.isNode="object"==typeof process&&"[object process]"==={}.toString.call(process),e.isBrowserWindow="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"==typeof SimpleDOM,e.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,e}),define("can/util/attr/attr",["can/util/can"],function(t){var e=t.global.setImmediate||function(t){return setTimeout(t,0)},n={input:!0,textarea:!0,select:!0},r=function(e,r){return r in e||t.document&&n[e.nodeName.toLowerCase()]},i={MutationObserver:t.global.MutationObserver||t.global.WebKitMutationObserver||t.global.MozMutationObserver,map:{"class":function(t,e){return e=e||"","http://www.w3.org/2000/svg"===t.namespaceURI?t.setAttribute("class",e):t.className=e,e},value:"value",innertext:"innerText",innerhtml:"innerHTML",textcontent:"textContent","for":"htmlFor",checked:!0,disabled:!0,readonly:function(t,e){return t.readOnly=!0,e},required:!0,src:function(t,e){return null==e||""===e?(t.removeAttribute("src"),null):(t.setAttribute("src",e),e)},style:function(){var e=t.global.document&&document.createElement("div");return e&&e.style&&"cssText"in e.style?function(t,e){return t.style.cssText=e||""}:function(t,e){return t.setAttribute("style",e)}}()},defaultValue:["input","textarea"],setAttrOrProp:function(t,e,n){e=e.toLowerCase();var r=i.map[e];r!==!0||n?this.set(t,e,n):this.remove(t,e)},setSelectValue:function(t,e){if(null!=e)for(var n=t.getElementsByTagName("option"),r=0;r<n.length;r++)if(e==n[r].value)return void(n[r].selected=!0);t.selectedIndex=-1},set:function(e,n,a){var o=t.isDOM(e)&&i.MutationObserver;n=n.toLowerCase();var s;o||(s=i.get(e,n));var u,c=i.map[n];"function"==typeof c?u=c(e,a):c===!0&&r(e,n)?(u=e[n]=!0,"checked"===n&&"radio"===e.type&&t.inArray((e.nodeName+"").toLowerCase(),i.defaultValue)>=0&&(e.defaultChecked=!0)):"string"==typeof c&&r(e,c)?(u=a,(e[c]!==a||"OPTION"===e.nodeName.toUpperCase())&&(e[c]=a),"value"===c&&t.inArray((e.nodeName+"").toLowerCase(),i.defaultValue)>=0&&(e.defaultValue=a)):i.setAttribute(e,n,a),o||u===s||i.trigger(e,n,s)},setAttribute:function(){var e=t.global.document;if(e&&document.createAttribute)try{e.createAttribute("{}")}catch(n){var r={},i=document.createElement("div");return function(t,e,n){var a,o,s=e.charAt(0);"{"!==s&&"("!==s&&"*"!==s||!t.setAttributeNode?t.setAttribute(e,n):(a=r[e],a||(i.innerHTML="<div "+e+'=""></div>',a=r[e]=i.childNodes[0].attributes[0]),o=a.cloneNode(),o.value=n,t.setAttributeNode(o))}}return function(t,e,n){t.setAttribute(e,n)}}(),trigger:function(n,r,i){return t.data(t.$(n),"canHasAttributesBindings")?(r=r.toLowerCase(),e(function(){t.trigger(n,{type:"attributes",attributeName:r,target:n,oldValue:i,bubbles:!1},[])})):void 0},get:function(t,e){e=e.toLowerCase();var n=i.map[e];return"string"==typeof n&&r(t,n)?t[n]:n===!0&&r(t,e)?t[e]:t.getAttribute(e)},remove:function(t,e){e=e.toLowerCase();var n;i.MutationObserver||(n=i.get(t,e));var a=i.map[e];"function"==typeof a&&a(t,void 0),a===!0&&r(t,e)?t[e]=!1:"string"==typeof a&&r(t,a)?t[a]="":t.removeAttribute(e),i.MutationObserver||null==n||i.trigger(t,e,n)},has:function(){var e=t.global.document&&document.createElement("div");return e&&e.hasAttribute?function(t,e){return t.hasAttribute(e)}:function(t,e){return null!==t.getAttribute(e)}}()};return i}),define("can/event/event",["can/util/can"],function(t){return t.addEvent=function(t,e){var n=this.__bindEvents||(this.__bindEvents={}),r=n[t]||(n[t]=[]);return r.push({handler:e,name:t}),this},t.listenTo=function(e,n,r){var i=this.__listenToEvents;i||(i=this.__listenToEvents={});var a=t.cid(e),o=i[a];o||(o=i[a]={obj:e,events:{}});var s=o.events[n];s||(s=o.events[n]=[]),s.push(r),t.bind.call(e,n,r)},t.stopListening=function(e,n,r){var i=this.__listenToEvents,a=i,o=0;if(!i)return this;if(e){var s=t.cid(e);if((a={})[s]=i[s],!i[s])return this}for(var u in a){var c,l=a[u];e=i[u].obj,n?(c={})[n]=l.events[n]:c=l.events;for(var p in c){var d=c[p]||[];for(o=0;o<d.length;)r&&r===d[o]||!r?(t.unbind.call(e,p,d[o]),d.splice(o,1)):o++;d.length||delete l.events[p]}t.isEmptyObject(l.events)&&delete i[u]}return this},t.removeEvent=function(t,e,n){if(!this.__bindEvents)return this;for(var r,i=this.__bindEvents[t]||[],a=0,o="function"==typeof e;a<i.length;)r=i[a],(n?n(r,t,e):o&&r.handler===e||!o&&(r.cid===e||!e))?i.splice(a,1):a++;return this},t.dispatch=function(t,e){var n=this.__bindEvents;if(n){var r;"string"==typeof t?(r=t,t={type:t}):r=t.type;var i=n[r];if(i){i=i.slice(0);var a=[t];e&&a.push.apply(a,e);for(var o=0,s=i.length;s>o;o++)i[o].handler.apply(this,a);return t}}},t.one=function(e,n){var r=function(){return t.unbind.call(this,e,r),n.apply(this,arguments)};return t.bind.call(this,e,r),this},t.event={on:function(){return 0===arguments.length&&t.Control&&this instanceof t.Control?t.Control.prototype.on.call(this):t.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&t.Control&&this instanceof t.Control?t.Control.prototype.off.call(this):t.removeEvent.apply(this,arguments)},bind:t.addEvent,unbind:t.removeEvent,delegate:function(e,n,r){return t.addEvent.call(this,n,r)},undelegate:function(e,n,r){return t.removeEvent.call(this,n,r)},trigger:t.dispatch,one:t.one,addEvent:t.addEvent,removeEvent:t.removeEvent,listenTo:t.listenTo,stopListening:t.stopListening,dispatch:t.dispatch},t.event}),define("can/util/fragment",["can/util/can"],function(t){var e=/^\s*<(\w+)[^>]*>/,n={}.toString,r=function(r,i,a){void 0===i&&(i=e.test(r)&&RegExp.$1),r&&"[object Function]"===n.call(r.replace)&&(r=r.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var o=a.createElement("div"),s=a.createElement("div");"tbody"===i||"tfoot"===i||"thead"===i||"colgroup"===i?(s.innerHTML="<table>"+r+"</table>",o=3===s.firstChild.nodeType?s.lastChild:s.firstChild):"col"===i?(s.innerHTML="<table><colgroup>"+r+"</colgroup></table>",o=3===s.firstChild.nodeType?s.lastChild:s.firstChild.firstChild):"tr"===i?(s.innerHTML="<table><tbody>"+r+"</tbody></table>",o=3===s.firstChild.nodeType?s.lastChild:s.firstChild.firstChild):"td"===i||"th"===i?(s.innerHTML="<table><tbody><tr>"+r+"</tr></tbody></table>",o=3===s.firstChild.nodeType?s.lastChild:s.firstChild.firstChild.firstChild):"option"===i?(s.innerHTML="<select>"+r+"</select>",o=3===s.firstChild.nodeType?s.lastChild:s.firstChild):o.innerHTML=""+r;var u={},c=t.childNodes(o);u.length=c.length;for(var l=0;l<c.length;l++)u[l]=c[l];return[].slice.call(u)};return t.buildFragment=function(t,e){if(t&&11===t.nodeType)return t;e?e.length&&(e=e[0]):e=document;for(var n=r(t,void 0,e),i=(e||document).createDocumentFragment(),a=0,o=n.length;o>a;a++)i.appendChild(n[a]);return i},function(){var e="<-\n>",n=t.buildFragment(e,document);if(e!==n.firstChild.nodeValue){var r=t.buildFragment;t.buildFragment=function(t,e){var n=r(t,e);return 1===n.childNodes.length&&3===n.childNodes[0].nodeType&&(n.childNodes[0].nodeValue=t),n}}}(),t}),define("can/util/array/isArrayLike",["can/util/can"],function(t){t.isArrayLike=function(t){var e=t&&"boolean"!=typeof t&&"number"!=typeof t&&"length"in t&&t.length;return"function"!=typeof arr&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}}),define("can/util/array/each",["can/util/can","can/util/array/isArrayLike"],function(t){return t.each=function(e,n,r){var i,a,o,s=0;if(e)if(t.isArrayLike(e))if(t.List&&e instanceof t.List)for(a=e.attr("length");a>s&&(o=e.attr(s),n.call(r||o,o,s,e)!==!1);s++);else for(a=e.length;a>s&&(o=e[s],n.call(r||o,o,s,e)!==!1);s++);else if("object"==typeof e)if(t.Map&&e instanceof t.Map||e===t.route){var u=t.Map.keys(e);for(s=0,a=u.length;a>s&&(i=u[s],o=e.attr(i),n.call(r||o,o,i,e)!==!1);s++);}else for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&n.call(r||e[i],e[i],i,e)===!1)break;return e},t}),define("can/util/inserted/inserted",["can/util/can"],function(t){t.inserted=function(e,n){if(e.length){e=t.makeArray(e);for(var r,i,a=n||e[0].ownerDocument||e[0],o=!1,s=t.$(a.contains?a:a.body),u=0;void 0!==(i=e[u]);u++){if(!o){if(!i.getElementsByTagName)continue;if(!t.has(s,i).length)return;o=!0}if(o&&i.getElementsByTagName){r=t.makeArray(i.getElementsByTagName("*")),t.trigger(i,"inserted",[],!1);for(var c,l=0;void 0!==(c=r[l]);l++)t.trigger(c,"inserted",[],!1)}}}},t.appendChild=function(e,n,r){var i;i=11===n.nodeType?t.makeArray(t.childNodes(n)):[n],e.appendChild(n),t.inserted(i,r)},t.insertBefore=function(e,n,r,i){var a;a=11===n.nodeType?t.makeArray(t.childNodes(n)):[n],e.insertBefore(n,r),t.inserted(a,i)}}),define("can/util/jquery/jquery",["jquery/dist/jquery","can/util/can","can/util/attr/attr","can/event/event","can/util/fragment","can/util/array/each","can/util/inserted/inserted"],function(t,e,n,r){var i=function(t){return t.nodeName&&(1===t.nodeType||9===t.nodeType)||t==window||t.addEventListener};t=t||window.jQuery,t.extend(e,t,{trigger:function(n,r,a,o){i(n)?t.event.trigger(r,a,n,!o):n.trigger?n.trigger(r,a):("string"==typeof r&&(r={type:r}),r.target=r.target||n,a&&(a.length&&"string"==typeof a?a=[a]:a.length||(a=[a])),a||(a=[]),e.dispatch.call(n,r,a))},event:e.event,addEvent:e.addEvent,removeEvent:e.removeEvent,buildFragment:e.buildFragment,$:t,each:e.each,bind:function(n,r){return this.bind&&this.bind!==e.bind?this.bind(n,r):i(this)?t.event.add(this,n,r):e.addEvent.call(this,n,r),this},unbind:function(n,r){return this.unbind&&this.unbind!==e.unbind?this.unbind(n,r):i(this)?t.event.remove(this,n,r):e.removeEvent.call(this,n,r),this},delegate:function(n,r,a){return this.delegate?this.delegate(n,r,a):i(this)?t(this).delegate(n,r,a):e.bind.call(this,r,a),this},undelegate:function(n,r,a){return this.undelegate?this.undelegate(n,r,a):i(this)?t(this).undelegate(n,r,a):e.unbind.call(this,r,a),this},proxy:e.proxy,attr:n}),e.on=e.bind,e.off=e.unbind,t.each(["append","filter","addClass","remove","data","get","has"],function(t,n){e[n]=function(t){return t[n].apply(t,e.makeArray(arguments).slice(1))}});var a=t.cleanData;t.cleanData=function(n){t.each(n,function(t,n){n&&e.trigger(n,"removed",[],!1)}),a(n)};var o,s=t.fn.domManip;t.fn.domManip=function(t,e,n){for(var r=1;r<arguments.length;r++)if("function"==typeof arguments[r]){o=r;break}return s.apply(this,arguments)},t(document.createElement("div")).append(document.createElement("div"));var u=function(t){var n=t.childNodes;if("length"in n)return e.makeArray(n);for(var r=t.firstChild,i=[];r;)i.push(r),r=r.nextSibling;return i};void 0===o?(t.fn.domManip=s,e.each(["after","prepend","before","append","replaceWith"],function(n){var r=t.fn[n];t.fn[n]=function(){var t=[],n=e.makeArray(arguments);null!=n[0]&&("string"==typeof n[0]&&(n[0]=e.buildFragment(n[0])),t=11===n[0].nodeType?u(n[0]):e.isArrayLike(n[0])?e.makeArray(n[0]):[n[0]]);var i=r.apply(this,n);return e.inserted(t),i}})):t.fn.domManip=2===o?function(t,n,r){return s.call(this,t,n,function(t){var n;11===t.nodeType&&(n=e.makeArray(e.childNodes(t)));var i=r.apply(this,arguments);return e.inserted(n?n:[t]),i})}:function(t,n){return s.call(this,t,function(t){var r;11===t.nodeType&&(r=e.makeArray(e.childNodes(t)));var i=n.apply(this,arguments);return e.inserted(r?r:[t]),i})};var c=t.attr;t.attr=function(t,n){if(e.isDOM(t)&&e.attr.MutationObserver)return c.apply(this,arguments);var r,i;arguments.length>=3&&(r=c.call(this,t,n));var a=c.apply(this,arguments);return arguments.length>=3&&(i=c.call(this,t,n)),i!==r&&e.attr.trigger(t,n,r),a};var l=t.removeAttr;return t.removeAttr=function(t,n){if(e.isDOM(t)&&e.attr.MutationObserver)return l.apply(this,arguments);var r=c.call(this,t,n),i=l.apply(this,arguments);return null!=r&&e.attr.trigger(t,n,r),i},t.event.special.attributes={setup:function(){if(e.isDOM(this)&&e.attr.MutationObserver){var t=this,n=new e.attr.MutationObserver(function(n){n.forEach(function(n){var r=e.simpleExtend({},n);e.trigger(t,r,[])})});n.observe(this,{attributes:!0,attributeOldValue:!0}),e.data(e.$(this),"canAttributesObserver",n)}else e.data(e.$(this),"canHasAttributesBindings",!0)},teardown:function(){e.isDOM(this)&&e.attr.MutationObserver?(e.data(e.$(this),"canAttributesObserver").disconnect(),t.removeData(this,"canAttributesObserver")):t.removeData(this,"canHasAttributesBindings")}},t.event.special.inserted={},t.event.special.removed={},e}),define("can/util/util",["can/util/jquery/jquery"],function(t){return t}),define("can/view/view",["can/util/util"],function(t){var e=t.isFunction,n=t.makeArray,r=1,i=function(t){var e=function(){return c.frag(t.apply(this,arguments))};return e.render=function(){return t.apply(t,arguments)},e},a=function(t,e){if(!t.length)throw new Error("can.view: No template or empty template:"+e)},o=function(n,r){if(e(n)){var i=t.Deferred();return i.resolve(n)}var o,s,u,l="string"==typeof n?n:n.url,p=n.engine&&"."+n.engine||l.match(/\.[\w\d]+$/);if(l.match(/^#/)&&(l=l.substr(1)),(s=document.getElementById(l))&&(p="."+s.type.match(/\/(x\-)?(.+)/)[2]),p||c.cached[l]||(l+=p=c.ext),t.isArray(p)&&(p=p[0]),u=c.toId(l),l.match(/^\/\//)&&(l=l.substr(2),l=window.steal?steal.config().root.mapJoin(""+steal.id(l)):l),window.require&&require.toUrl&&(l=require.toUrl(l)),o=c.types[p],c.cached[u])return c.cached[u];if(s)return c.registerView(u,s.innerHTML,o);var d=new t.Deferred;return t.ajax({async:r,url:l,dataType:"text",error:function(t){a("",l),d.reject(t)},success:function(t){a(t,l),c.registerView(u,t,o,d)}}),d},s=function(e){var n=[];if(t.isPromise(e))return[e];for(var r in e)t.isPromise(e[r])&&n.push(e[r]);return n},u=function(e){return t.isArray(e)&&"success"===e[1]?e[0]:e},c=t.view=t.template=function(t,n,r,i){return e(r)&&(i=r,r=void 0),c.renderAs("fragment",t,n,r,i)};return t.extend(c,{frag:function(t,e){return c.hookup(c.fragment(t),e)},fragment:function(e){return t.frag(e,document)},toId:function(e){return t.map(e.toString().split(/\/|\./g),function(t){return t?t:void 0}).join("_")},toStr:function(t){return null==t?"":""+t},hookup:function(e,n){var r,i,a=[];return t.each(e.childNodes?t.makeArray(e.childNodes):e,function(e){1===e.nodeType&&(a.push(e),a.push.apply(a,t.makeArray(e.getElementsByTagName("*"))))}),t.each(a,function(t){t.getAttribute&&(r=t.getAttribute("data-view-id"))&&(i=c.hookups[r])&&(i(t,n,r),delete c.hookups[r],t.removeAttribute("data-view-id"))}),e},hookups:{},hook:function(t){return c.hookups[++r]=t," data-view-id='"+r+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(e){this.types["."+e.suffix]=e,t[e.suffix]=c[e.suffix]=function(t,n){var r,a;if(!n)return a=function(){return r||(r=e.fragRenderer?e.fragRenderer(null,t):i(e.renderer(null,t))),r.apply(this,arguments)},a.render=function(){var n=e.renderer(null,t);return n.apply(n,arguments)},a;var o=function(){return r||(r=e.fragRenderer?e.fragRenderer(t,n):e.renderer(t,n)),r.apply(this,arguments)};return e.fragRenderer?c.preload(t,o):c.preloadStringRenderer(t,o)}},types:{},ext:".ejs",registerScript:function(t,e,n){return"can.view.preloadStringRenderer('"+e+"',"+c.types["."+t].script(e,n)+");"},preload:function(e,n){var r=c.cached[e]=(new t.Deferred).resolve(function(t,e){return n.call(t,t,e)});return r.__view_id=e,c.cachedRenderers[e]=n,n},preloadStringRenderer:function(t,e){return this.preload(t,i(e))},render:function(e,n,r,i,a){return t.view.renderAs("string",e,n,r,i,a)},renderTo:function(t,e,n,r,i){return("string"===t&&e.render?e.render:e)(n,r,i)},renderAs:function(r,i,a,l,p,d){void 0!==p&&"string"==typeof p.expression&&(d=p,p=void 0),e(l)&&(p=l,l=void 0);var h,f,v,g,m=s(a);if(m.length)return h=new t.Deferred,f=t.extend({},a),m.push(o(i,!0)),t.when.apply(t,m).then(function(e){var i,o=n(arguments),s=o.pop();if(t.isPromise(a))f=u(e);else for(var c in a)t.isPromise(a[c])&&(f[c]=u(o.shift()));i=t.view.renderTo(r,s,f,l,d),h.resolve(i,f),p&&p(i,f)},function(){h.reject.apply(h,arguments)}),h;if(v=e(p),h=t.__notObserve(o)(i,v),v)g=h,h.then(function(e){p(a?t.view.renderTo(r,e,a,l,d):e)});else{if("resolved"===h.state()&&h.__view_id){var b=c.cachedRenderers[h.__view_id];return a?t.view.renderTo(r,b,a,l,d):b}h.then(function(e){g=a?t.view.renderTo(r,e,a,l,d):e})}return g},registerView:function(e,n,r,a){var o,s="object"==typeof r?r:c.types[r||c.ext];return o=s.fragRenderer?s.fragRenderer(e,n):i(s.renderer(e,n)),a=a||new t.Deferred,c.cache&&(c.cached[e]=a,a.__view_id=e,c.cachedRenderers[e]=o),a.resolve(o)},simpleHelper:function(e){return function(){var n=[],r=arguments;return t.each(r,function(t,e){if(e<=r.length){for(;t&&t.isComputed;)t=t();n.push(t)}}),e.apply(this,n)}}}),t}),define("can/view/callbacks/callbacks",["can/util/util","can/view/view"],function(t){var e=t.view.attr=function(t,e){if(!e){var i=n[t];if(!i)for(var a=0,o=r.length;o>a;a++){var s=r[a];if(s.match.test(t)){i=s.handler;break}}return i}"string"==typeof t?n[t]=e:r.push({match:t,handler:e})},n={},r=[],i=/[-\:]/,a=t.view.tag=function(e,n){if(!n){var r=o[e.toLowerCase()];return!r&&i.test(e)&&(r=function(){}),r}t.global.html5&&(t.global.html5.elements+=" "+e,t.global.html5.shivDocument()),o[e.toLowerCase()]=n},o={};return t.view.callbacks={_tags:o,_attributes:n,_regExpAttributes:r,tag:a,attr:e,tagHandler:function(e,n,r){var i,a=r.options.get("tags."+n,{proxyMethods:!1}),s=a||o[n],u=r.scope;if(i=s?t.__notObserve(s)(e,r):u,i&&r.subtemplate){u!==i&&(u=u.add(i));var c=r.subtemplate(u,r.options),l="string"==typeof c?t.view.frag(c):c;t.appendChild(e,l)}}},t.view.callbacks}),define("can/view/elements",["can/util/util","can/view/view"],function(t){var e="undefined"!=typeof document?document:null,n=e&&function(){return 1===t.$(document.createComment("~")).length}(),r={tagToContentPropMap:{option:e&&"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:t.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:t.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},selfClosingTags:{col:!0},getParentNode:function(t,e){return e&&11===t.parentNode.nodeType?e:t.parentNode},setAttr:t.attr.set,getAttr:t.attr.get,removeAttr:t.attr.remove,contentText:function(t){return"string"==typeof t?t:t||0===t?""+t:""},after:function(e,n){var r=e[e.length-1];r.nextSibling?t.insertBefore(r.parentNode,n,r.nextSibling,t.document):t.appendChild(r.parentNode,n,t.document)},replace:function(e,i){var a,o=e[0].parentNode;"SELECT"===o.nodeName.toUpperCase()&&o.selectedIndex>=0&&(a=o.value),r.after(e,i),t.remove(t.$(e)).length<e.length&&!n&&t.each(e,function(t){8===t.nodeType&&t.parentNode.removeChild(t)}),void 0!==a&&(o.value=a)}};return t.view.elements=r,r}),define("can/util/bind/bind",["can/util/util"],function(t){return t.bindAndSetup=function(){return t.addEvent.apply(this,arguments),this.__inSetup||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},t.unbindAndTeardown=function(e,n){if(!this.__bindEvents)return this;var r=this.__bindEvents[e]||[],i=r.length;return t.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings=this._bindings-(i-r.length),!this._bindings&&this._bindteardown&&this._bindteardown(),this},t}),define("can/util/batch/batch",["can/util/can"],function(t){var e=1,n=0,r=null,i=null,a=[],o=!1;t.batch={start:function(t){if(n++,1===n){var r={events:[],callbacks:[],number:e++};a.push(r),t&&r.callbacks.push(t),i=r}},stop:function(e,s){if(e?n=0:n--,0===n){i=null;var u;if(o===!1){o=!0;for(var c,l=[];u=a.shift();){var p=u.events;l.push.apply(l,u.callbacks),r=u,t.batch.batchNum=u.number;var d;for(s&&t.batch.start(),c=0,d=p.length;d>c;c++)t.dispatch.apply(p[c][0],p[c][1]);t.batch._onDispatchedEvents(u.number),r=null,t.batch.batchNum=void 0}for(c=l.length-1;c>=0;c--)l[c]();o=!1}}},_onDispatchedEvents:function(){},trigger:function(e,n,r){e.__inSetup||(n="string"==typeof n?{type:n}:n,i?(n.batchNum=i.number,i.events.push([e,[n,r]])):n.batchNum?t.dispatch.call(e,n,r):a.length?(t.batch.start(),n.batchNum=i.number,i.events.push([e,[n,r]]),t.batch.stop()):t.dispatch.call(e,n,r))},afterPreviousEvents:function(e){var n=t.last(a);if(n){var r={};t.bind.call(r,"ready",e),n.events.push([r,[{type:"ready"},[]]])}else e({})},after:function(t){var e=i||r;e?e.callbacks.push(t):t({})}}}),define("can/compute/read",["can/util/util"],function(t){var e=function(t,n,i){i=i||{};for(var a,o,s={foundObservable:!1},u=r(t,0,n,i,s),c=n.length,l=0;c>l;){o=u;for(var p=0,d=e.propertyReaders.length;d>p;p++){var h=e.propertyReaders[p];if(h.test(u)){u=h.read(u,n[l],l,i,s);break}}if(l+=1,u=r(u,l,n,i,s,o),a=typeof u,l<n.length&&(null===u||"function"!==a&&"object"!==a))return i.earlyExit&&i.earlyExit(o,l-1,u),{value:void 0,parent:o}}return void 0===u&&i.earlyExit&&i.earlyExit(o,l-1),{value:u,parent:o}},n=function(t,e){var n=e[t-1];return n&&n.at},r=function(t,n,r,i,a,o){var s;do{s=!1;for(var u=0,c=e.valueReaders.length;c>u;u++)e.valueReaders[u].test(t,n,r,i)&&(t=e.valueReaders[u].read(t,n,r,i,a,o))}while(s);return t};e.valueReaders=[{name:"compute",test:function(t,e,r,i){return t&&t.isComputed&&!n(e,r)},read:function(e,n,r,i,a){return i.readCompute===!1&&n===r.length?e:(!a.foundObservable&&i.foundObservable&&(i.foundObservable(e,n),a.foundObservable=!0),e instanceof t.Compute?e.get():e())}},{name:"function",test:function(e,n,r,i){var a=typeof e;return!("function"!==a||e.isComputed||t.Construct&&e.prototype instanceof t.Construct||t.route&&e===t.route)},read:function(e,r,i,a,o,s){return n(r,i)?r===i.length?t.proxy(e,s):e:a.callMethodsOnObservables&&t.isMapLike(s)?e.apply(s,a.args||[]):a.isArgument&&r===i.length?a.proxyMethods!==!1?t.proxy(e,s):e:e.apply(s,a.args||[])}}],e.propertyReaders=[{name:"map",test:t.isMapLike,read:function(t,e,n,r,i){!i.foundObservable&&r.foundObservable&&(r.foundObservable(t,n),i.foundObservable=!0);var a=t.attr(e.key);return void 0!==a?a:t[e.key]}},{name:"promise",test:function(e){return t.isPromise(e)},read:function(e,n,r,i,a){!a.foundObservable&&i.foundObservable&&(i.foundObservable(e,r),a.foundObservable=!0);var o=e.__observeData;return e.__observeData||(o=e.__observeData={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0},t.cid(o),t.simpleExtend(o,t.event),e.then(function(t){o.isPending=!1,o.isResolved=!0,o.value=t,o.state="resolved",o.dispatch("state",["resolved","pending"])},function(t){o.isPending=!1,o.isRejected=!0,o.reason=t,o.state="rejected",o.dispatch("state",["rejected","pending"])})),t.__observe(o,"state"),n.key in o?o[n.key]:e[n.key]}},{name:"object",test:function(){return!0},read:function(t,e){return null==t?void 0:e.key in t?t[e.key]:e.at&&i[e.key]&&"@"+e.key in t?(e.at=!1,t["@"+e.key]):void 0}}];var i={index:!0,key:!0,event:!0,element:!0,viewModel:!0};return e.write=function(e,n,r,i){return i=i||{},t.isMapLike(e)?!i.isArgument&&e._data&&e._data[n]&&e._data[n].isComputed?e._data[n](r):e.attr(n,r):e[n]&&e[n].isComputed?e[n](r):void("object"==typeof e&&(e[n]=r))},e.reads=function(t){var e=[],n=0,r=!1;"@"===t.charAt(0)&&(n=1,r=!0);for(var i="",a=n;a<t.length;a++){var o=t.charAt(a);"."===o||"@"===o?"\\"!==t.charAt(a-1)?(e.push({key:i,at:r}),r="@"===o,i=""):i=i.substr(0,i.length-1)+".":i+=o}return e.push({key:i,at:r}),e},e}),define("can/compute/get_value_and_bind",["can/util/util"],function(t){function e(e,n,r){this.newObserved={},this.oldObserved=null,this.func=e,this.context=n,this.compute=r,this.onDependencyChange=t.proxy(this.onDependencyChange,this),this.depth=null,this.childDepths={},this.ignore=0,this.inBatch=!1,this.ready=!1,r.observedInfo=this,this.setReady=t.proxy(this._setReady,this)}t.simpleExtend(e.prototype,{getPrimaryDepth:function(){return this.compute._primaryDepth},_setReady:function(){this.ready=!0},getDepth:function(){return null!==this.depth?this.depth:this.depth=this._getDepth()},_getDepth:function(){var t=0,e=this.childDepths;for(var n in e)e[n]>t&&(t=e[n]);return t+1},addEdge:function(t){t.obj.bind(t.event,this.onDependencyChange),t.obj.observedInfo&&(this.childDepths[t.obj._cid]=t.obj.observedInfo.getDepth(),this.depth=null)},removeEdge:function(t){t.obj.unbind(t.event,this.onDependencyChange),t.obj.observedInfo&&(delete this.childDepths[t.obj._cid],this.depth=null)},dependencyChange:function(t){this.bound&&this.ready&&(void 0!==t.batchNum?t.batchNum!==this.batchNum&&(e.registerUpdate(this),this.batchNum=t.batchNum):this.updateCompute(t.batchNum))},onDependencyChange:function(t,e,n){this.dependencyChange(t,e,n)},updateCompute:function(t){if(this.bound){var e=this.value;this.getValueAndBind(),this.compute.updater(this.value,e,t)}},getValueAndBind:function(){this.bound=!0,this.oldObserved=this.newObserved||{},this.ignore=0,this.newObserved={},this.ready=!1,a.push(this),this.value=this.func.call(this.context),a.pop(),this.updateBindings(),t.batch.afterPreviousEvents(this.setReady)},updateBindings:function(){var t,e,n=this.newObserved,r=this.oldObserved;for(t in n)e=n[t],r[t]?r[t]=null:this.addEdge(e);for(t in r)e=r[t],e&&this.removeEdge(e)},teardown:function(){this.bound=!1;for(var t in this.newObserved){var e=this.newObserved[t];this.removeEdge(e)}this.newObserved={}}});var n=[],r=1/0,i=0;e.registerUpdate=function(t,e){var a=t.getDepth()-1,o=t.getPrimaryDepth();r=Math.min(o,r),i=Math.max(o,i);var s=n[o]||(n[o]={observeInfos:[],current:1/0,max:0}),u=s.observeInfos[a]||(s.observeInfos[a]=[]);u.push(t),s.current=Math.min(a,s.current),s.max=Math.max(a,s.max)},e.batchEnd=function(t){for(var e;;){if(!(i>=r))return n=[],r=1/0,void(i=0);var a=n[r];if(a&&a.current<=a.max){var o=a.observeInfos[a.current];o&&(e=o.pop())?e.updateCompute(t):a.current++}else r++}};var a=[];return t.__observe=function(t,e){var n=a[a.length-1];if(n&&!n.ignore){var r=e+"",i=t._cid+"|"+r;n.traps?n.traps.push({obj:t,event:r,name:i}):n.newObserved[i]||(n.newObserved[i]={obj:t,event:r})}},t.__reading=t.__observe,t.__trapObserves=function(){if(a.length){var t=a[a.length-1],e=t.traps=[];return function(){return t.traps=null,e}}return function(){return[]}},t.__observes=function(t){var e=a[a.length-1];if(e)for(var n=0,r=t.length;r>n;n++){var i=t[n],o=i.name;e.newObserved[o]||(e.newObserved[o]=i)}},t.__isRecordingObserves=function(){var t=a.length;return t&&0===a[t-1].ignore},t.__notObserve=function(t){return function(){if(a.length){var e=a[a.length-1];e.ignore++;var n=t.apply(this,arguments);return e.ignore--,n}return t.apply(this,arguments)}},t.batch._onDispatchedEvents=e.batchEnd,e}),define("can/compute/proto_compute",["can/util/util","can/util/bind/bind","can/compute/read","can/compute/get_value_and_bind","can/util/batch/batch"],function(t,e,n,r){t.Compute=function(e,n,r,i){t.cid(this,"compute");for(var a=[],o=0,s=arguments.length;s>o;o++)a[o]=arguments[o];var u=typeof a[1];"function"==typeof a[0]?this._setupGetterSetterFn(a[0],a[1],a[2],a[3]):a[1]?"string"===u?this._setupProperty(a[0],a[1],a[2]):"function"===u?this._setupSetter(a[0],a[1],a[2]):a[1]&&a[1].fn?this._setupAsyncCompute(a[0],a[1]):this._setupSettings(a[0],a[1]):this._setupSimpleValue(a[0]),this._args=a,this._primaryDepth=0,this.isComputed=!0},t.simpleExtend(t.Compute.prototype,{setPrimaryDepth:function(t){this._primaryDepth=t},_setupGetterSetterFn:function(e,n,r){this._set=n?t.proxy(e,n):e,this._get=n?t.proxy(e,n):e,this._canObserve=r===!1?!1:!0;var i=a(this,e,n||this);t.simpleExtend(this,i)},_setupProperty:function(e,n,r){var i,a=t.isMapLike(e),o=this;a?(i=function(t,e,n){o.updater(e,n,t.batchNum)},this.hasDependencies=!0,this._get=function(){return e.attr(n)},this._set=function(t){
    e.attr(n,t)}):(i=function(){o.updater(o._get(),o.value)},this._get=function(){return t.getObject(n,[e])},this._set=function(r){var i=n.split("."),a=i.pop(),o=t.getObject(i.join("."),[e]);o[a]=r}),this._on=function(a){t.bind.call(e,r||n,i),this.value=this._get()},this._off=function(){return t.unbind.call(e,r||n,i)}},_setupSetter:function(e,n,r){this.value=e,this._set=n,t.simpleExtend(this,r)},_setupSettings:function(t,e){if(this.value=t,this._set=e.set||this._set,this._get=e.get||this._get,!e.__selfUpdater){var n=this,r=this.updater;this.updater=function(){r.call(n,n._get(),n.value)}}this._on=e.on?e.on:this._on,this._off=e.off?e.off:this._off},_setupAsyncCompute:function(e,n){var r=this;this.value=e,this._setUpdates=!0,this.lastSetValue=new t.Compute(e),this._set=function(t){return t===r.lastSetValue.get()?this.value:r.lastSetValue.set(t)},this._get=function(){return o.call(n.context,r.lastSetValue.get())};var i,o=n.fn;if(0===o.length)i=a(this,o,n.context);else if(1===o.length)i=a(this,function(){return o.call(n.context,r.lastSetValue.get())},n);else{var s=this.updater,u=function(t){s.call(r,t,r.value)};this.updater=function(t){s.call(r,t,r.value)},i=a(this,function(){var t=o.call(n.context,r.lastSetValue.get(),u);return void 0!==t?t:this.value},this)}t.simpleExtend(this,i)},_setupSimpleValue:function(t){this.value=t},_bindsetup:t.__notObserve(function(){this.bound=!0,this._on(this.updater)}),_bindteardown:function(){this._off(this.updater),this.bound=!1},bind:t.bindAndSetup,unbind:t.unbindAndTeardown,clone:function(e){return e&&"function"==typeof this._args[0]?this._args[1]=e:e&&(this._args[2]=e),new t.Compute(this._args[0],this._args[1],this._args[2],this._args[3])},_on:t.k,_off:t.k,get:function(){return t.__isRecordingObserves()&&this._canObserve!==!1&&(t.__observe(this,"change"),this.bound||t.Compute.temporarilyBind(this)),this.bound?this.value:this._get()},_get:function(){return this.value},set:function(t){var e=this.value,n=this._set(t,e);return this._setUpdates?this.value:this.hasDependencies?this._get():(void 0===n?this.value=this._get():this.value=n,i(this,this.value,e),this.value)},_set:function(t){return this.value=t},updater:function(t,e,n){this.value=t,i(this,t,e,n)},toFunction:function(){return t.proxy(this._computeFn,this)},_computeFn:function(t){return arguments.length?this.set(t):this.get()}});var i=function(e,n,r,i){var a=n!==r&&!(n!==n&&r!==r);a&&t.batch.trigger(e,{type:"change",batchNum:i},[n,r])},a=function(e,n,i){var a=new r(n,i,e);return{_on:function(){a.getValueAndBind(),e.value=a.value,e.hasDependencies=!t.isEmptyObject(a.newObserved)},_off:function(){a.teardown()},getDepth:function(){return a.getDepth()}}};t.Compute.temporarilyBind=function(e){var n=e.computeInstance||e;n.bind("change",t.k),o||(o=[],setTimeout(s,10)),o.push(n)};var o,s=function(){for(var e=0,n=o.length;n>e;e++)o[e].unbind("change",t.k);o=null};return t.Compute.async=function(e,n,r){return new t.Compute(e,{fn:n,context:r})},t.Compute.truthy=function(e){return new t.Compute(function(){var t=e.get();return"function"==typeof t&&(t=t.get()),!!t})},t.Compute.read=n,t.Compute.set=n.write,t.Compute}),define("can/compute/compute",["can/util/util","can/util/bind/bind","can/util/batch/batch","can/compute/proto_compute"],function(t,e){return t.compute=function(e,n,r,i){var a=new t.Compute(e,n,r,i),o=a.bind,s=a.unbind,u=function(t){return arguments.length?a.set(t):a.get()},c=t.cid(u,"compute"),l="__handler"+c;return u.bind=function(t,e){var n=e&&e[l];return e&&!n&&(n=e[l]=function(){e.apply(u,arguments)}),o.call(a,t,n)},u.unbind=function(t,e){var n=e&&e[l];return n?(delete e[l],a.unbind(t,n)):s.apply(a,arguments)},u.isComputed=a.isComputed,u.clone=function(r){return"function"==typeof e&&(n=r),t.compute(e,n,r,i)},u.computeInstance=a,u},t.compute.truthy=function(e){return t.compute(function(){var t=e();return"function"==typeof t&&(t=t()),!!t})},t.compute.async=function(e,n,r){return t.compute(e,{fn:n,context:r})},t.compute.read=t.Compute.read,t.compute.set=t.Compute.set,t.compute.temporarilyBind=t.Compute.temporarilyBind,t.compute}),define("can/view/scope/compute_data",["can/util/util","can/compute/compute","can/compute/get_value_and_bind"],function(t,e,n){var r=function(e){return e.reads&&1===e.reads.length&&e.root instanceof t.Map&&!t.isFunction(e.root[e.reads[0].key])},i=function(e,n,r,i,a){if(!(arguments.length>4)){if(i.root)return t.compute.read(i.root,i.reads,r).value;var o=e.read(n,r);return i.scope=o.scope,i.initialValue=o.value,i.reads=o.reads,i.root=o.rootObserve,i.setRoot=o.setRoot,o.value}var s=i.root||i.setRoot;if(s)if(s.isComputed)s(a);else if(i.reads.length){var u=i.reads.length-1,c=i.reads.length?t.compute.read(s,i.reads.slice(0,u)).value:s;t.compute.set(c,i.reads[u].key,a,r)}};return function(e,a,o){o=o||{args:[]};var s={},u=function(t){return arguments.length?i(e,a,o,s,t):i(e,a,o,s)},c=t.compute(void 0,{on:function(){l.getValueAndBind(),r(s)&&(l.dependencyChange=function(t,e){return"function"!=typeof e?this.newVal=e:(l.dependencyChange=n.prototype.dependencyChange,l.getValueAndBind=n.prototype.getValueAndBind),n.prototype.dependencyChange.call(this,t)},l.getValueAndBind=function(){this.value=this.newVal}),c.computeInstance.value=l.value,c.computeInstance.hasDependencies=!t.isEmptyObject(l.newObserved)},off:function(){l.dependencyChange=n.prototype.dependencyChange,l.getValueAndBind=n.prototype.getValueAndBind,l.teardown()},set:u,get:u,__selfUpdater:!0}),l=new n(u,null,c.computeInstance);return s.compute=c,s}}),define("can/util/string/string",["can/util/util"],function(t){var e=/_|-/,n=/\=\=/,r=/([A-Z]+)([A-Z][a-z])/g,i=/([a-z\d])([A-Z])/g,a=/([a-z\d])([A-Z])/g,o=/\{([^\}]+)\}/g,s=/"/g,u=/'/g,c=/-+(.)?/g,l=/[a-z][A-Z]/g,p=function(t,e,n){var r=t[e];return void 0===r&&n===!0&&(r=t[e]={}),r},d=function(t){return/^f|^o/.test(typeof t)},h=function(t){var e=null===t||void 0===t||isNaN(t)&&""+t=="NaN";return""+(e?"":t)};return t.extend(t,{esc:function(t){return h(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(s,"&#34;").replace(u,"&#39;")},getObject:function(e,n,r){var i,a,o,s,u=e?e.split("."):[],c=u.length,l=0;if(n=t.isArray(n)?n:[n||window],s=n.length,!c)return n[0];for(l;s>l;l++){for(i=n[l],o=void 0,a=0;c>a&&d(i);a++)o=i,i=p(o,u[a]);if(void 0!==o&&void 0!==i)break}if(r===!1&&void 0!==i&&delete o[u[a-1]],r===!0&&void 0===i)for(i=n[0],a=0;c>a&&d(i);a++)i=p(i,u[a],!0);return i},capitalize:function(t,e){return t.charAt(0).toUpperCase()+t.slice(1)},camelize:function(t){return h(t).replace(c,function(t,e){return e?e.toUpperCase():""})},hyphenate:function(t){return h(t).replace(l,function(t,e){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()})},underscore:function(t){return t.replace(n,"/").replace(r,"$1_$2").replace(i,"$1_$2").replace(a,"_").toLowerCase()},sub:function(e,n,r){var i=[];return e=e||"",i.push(e.replace(o,function(e,a){var o=t.getObject(a,n,r===!0?!1:void 0);return void 0===o||null===o?(i=null,""):d(o)&&i?(i.push(o),""):""+o})),null===i?i:i.length<=1?i[0]:i},replacer:o,undHash:e}),t}),define("can/construct/construct",["can/util/string/string"],function(t){var e,n=0;try{Object.getOwnPropertyDescriptor({}),e=!0}catch(r){e=!1}var i=function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return n&&(n.get||n.set)?n:null},a=function(e,n,r){r=r||e;var a;for(var o in e)(a=i(e,o))?this._defineProperty(r,n,o,a):t.Construct._overwrite(r,n,o,e[o])},o=function(e,n,r){r=r||e;for(var i in e)t.Construct._overwrite(r,n,i,e[i])};return t.Construct=function(){return arguments.length?t.Construct.extend.apply(t.Construct,arguments):void 0},t.extend(t.Construct,{constructorExtends:!0,newInstance:function(){var t,e=this.instance();return e.setup&&(e.__inSetup=!0,t=e.setup.apply(e,arguments),delete e.__inSetup),e.init&&e.init.apply(e,t||arguments),e},_inherit:e?a:o,_defineProperty:function(t,e,n,r){Object.defineProperty(t,n,r)},_overwrite:function(t,e,n,r){t[n]=r},setup:function(e,n){this.defaults=t.extend(!0,{},e.defaults,this.defaults)},instance:function(){n=1;var t=new this;return n=0,t},extend:function(e,r,i){function a(){return n?void 0:this.constructor!==c&&arguments.length&&c.constructorExtends?c.extend.apply(c,arguments):c.newInstance.apply(c,arguments)}var o=e,s=r,u=i;"string"!=typeof o&&(u=s,s=o,o=null),u||(u=s,s=null),u=u||{};var c,l,p,d,h,f,v,g,m,b=this,y=this.prototype;m=this.instance(),t.Construct._inherit(u,y,m),o?(l=o.split("."),v=l.pop()):s&&s.shortName?v=s.shortName:this.shortName&&(v=this.shortName),"undefined"==typeof constructorName&&(c=function(){return a.apply(this,arguments)});for(f in b)b.hasOwnProperty(f)&&(c[f]=b[f]);t.Construct._inherit(s,b,c),o&&(p=t.getObject(l.join("."),window,!0),g=p,d=t.underscore(o.replace(/\./g,"_")),h=t.underscore(v),p[v]=c),t.extend(c,{constructor:c,prototype:m,namespace:g,_shortName:h,fullName:o,_fullName:d}),void 0!==v&&(c.shortName=v),c.prototype.constructor=c;var _=[b].concat(t.makeArray(arguments)),w=c.setup.apply(c,_);return c.init&&c.init.apply(c,w||_),c}}),t.Construct.prototype.setup=function(){},t.Construct.prototype.init=function(){},t.Construct}),define("can/map/bubble",["can/util/util"],function(t){var e=t.bubble={bind:function(t,n){if(!t.__inSetup){var r,i=e.events(t,n),a=i.length;t._bubbleBindings||(t._bubbleBindings={});for(var o=0;a>o;o++)r=i[o],t._bubbleBindings[r]?t._bubbleBindings[r]++:(t._bubbleBindings[r]=1,e.childrenOf(t,r))}},unbind:function(n,r){for(var i,a=e.events(n,r),o=a.length,s=0;o>s;s++)i=a[s],n._bubbleBindings&&n._bubbleBindings[i]--,n._bubbleBindings&&!n._bubbleBindings[i]&&(delete n._bubbleBindings[i],e.teardownChildrenFrom(n,i),t.isEmptyObject(n._bubbleBindings)&&delete n._bubbleBindings)},add:function(n,r,i){if(r instanceof t.Map&&n._bubbleBindings)for(var a in n._bubbleBindings)n._bubbleBindings[a]&&(e.teardownFromParent(n,r,a),e.toParent(r,n,i,a))},addMany:function(t,n){for(var r=0,i=n.length;i>r;r++)e.add(t,n[r],r)},remove:function(n,r){if(r instanceof t.Map&&n._bubbleBindings)for(var i in n._bubbleBindings)n._bubbleBindings[i]&&e.teardownFromParent(n,r,i)},removeMany:function(t,n){for(var r=0,i=n.length;i>r;r++)e.remove(t,n[r])},set:function(n,r,i,a){return t.isMapLike(i)&&e.add(n,i,r),t.isMapLike(a)&&e.remove(n,a),i},events:function(t,e){return t.constructor._bubbleRule(e,t)},toParent:function(e,n,r,i){t.listenTo.call(n,e,i,function(){var a=t.makeArray(arguments),o=a.shift();a[0]=(t.List&&n instanceof t.List?n.indexOf(e):r)+(a[0]?"."+a[0]:""),o.triggeredNS=o.triggeredNS||{},o.triggeredNS[n._cid]||(o.triggeredNS[n._cid]=!0,t.trigger(n,o,a),"change"===i&&t.trigger(n,a[0],[a[2],a[3]]))})},childrenOf:function(t,n){t._each(function(r,i){r&&r.bind&&e.toParent(r,t,i,n)})},teardownFromParent:function(e,n,r){n&&n.unbind&&t.stopListening.call(e,n,r)},teardownChildrenFrom:function(t,n){t._each(function(r){e.teardownFromParent(t,r,n)})},isBubbling:function(t,e){return t._bubbleBindings&&t._bubbleBindings[e]}};return e}),define("can/util/object/isplain/isplain",["can/util/can"],function(t){var e=Object.prototype.hasOwnProperty,n=function(t){return null!==t&&t==t.window},r=function(t){if(!t||"object"!=typeof t||t.nodeType||n(t))return!1;try{if(t.constructor&&!e.call(t,"constructor")&&!e.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}var i;for(i in t);return void 0===i||e.call(t,i)};return t.isPlainObject=r,t}),define("can/map/map_helpers",["can/util/util","can/util/object/isplain/isplain"],function(t){var e={attrParts:function(t,e){return e?[t]:"object"==typeof t?t:(""+t).split(".")},canMakeObserve:function(e){return e&&!t.isPromise(e)&&(t.isArray(e)||t.isPlainObject(e))},serialize:function(){var n=null;return function(r,i,a){var o=t.cid(r),s=!1;return n||(s=!0,n={attr:{},serialize:{}}),n[i][o]=a,r.each(function(o,s){var u,c=t.isMapLike(o),l=c&&n[i][t.cid(o)];u=l?l:r["___"+i]?r["___"+i](s,o):e.getValue(r,s,o,i),void 0!==u&&(a[s]=u)}),s&&(n=null),a}}(),getValue:function(e,n,r,i){return t.isMapLike(r)?r[i]():r},define:null,addComputedAttr:function(t,e,n){t._computedAttrs[e]={compute:n,count:0,handler:function(n,r,i){t._triggerChange(e,"set",r,i,n.batchNum)}}},addToMap:function(e,i){var a;n||(a=r,n={});var o=e._cid,s=t.cid(e);return n[s]||(n[s]={obj:e,instance:i,added:!o}),a},getMapFromObject:function(t){return n&&n[t._cid]&&n[t._cid].instance}},n=null,r=function(){for(var t in n)n[t].added&&delete n[t].obj._cid;n=null};return e}),define("can/map/map",["can/util/util","can/util/bind/bind","can/map/bubble","can/map/map_helpers","can/construct/construct","can/util/batch/batch","can/compute/get_value_and_bind"],function(t,e,n,r){var i={constructor:!0},a=t.Map=t.Construct.extend({setup:function(){if(t.Construct.setup.apply(this,arguments),this._computedPropertyNames=[],t.Map){this.defaults||(this.defaults={});for(var e in this.prototype)"define"!==e&&"constructor"!==e&&("function"!=typeof this.prototype[e]||this.prototype[e].prototype instanceof t.Construct)?this.defaults[e]=this.prototype[e]:this.prototype[e].isComputed&&this._computedPropertyNames.push(e);r.define&&r.define(this)}!t.List||this.prototype instanceof t.List||(this.List=a.List.extend({Map:this},{}))},shortName:"Map",_bubbleRule:function(t){return"change"===t||t.indexOf(".")>=0?["change"]:[]},bind:t.bindAndSetup,unbind:t.unbindAndTeardown,id:"id",keys:function(e){var n=[];t.__observe(e,"__keys");for(var r in e._data)n.push(r);return n}},{setup:function(e){e instanceof t.Map&&(e=e.serialize()),this._data={},t.cid(this,".map"),this._setupComputedProperties();var n=e&&r.addToMap(e,this),i=this._setupDefaults(e),a=t.extend(t.extend(!0,{},i),e);this.attr(a),n&&n()},_setupComputedProperties:function(){this._computedAttrs={};for(var t=this.constructor._computedPropertyNames,e=0,n=t.length;n>e;e++){var i=t[e];r.addComputedAttr(this,i,this[i].clone(this))}},_setupDefaults:function(){return this.constructor.defaults||{}},attr:function(t,e){var n=typeof t;return void 0===t?this._getAttrs():"string"!==n&&"number"!==n?this._setAttrs(t,e):1===arguments.length?this._get(t+""):(this._set(t+"",e),this)},_get:function(e){var n=e.indexOf(".");if(n>=0){var r=this.___get(e);if(void 0!==r)return t.__observe(this,e),r;var i=e.substr(0,n),a=e.substr(n+1),o=this.__get(i);return o&&o._get?o._get(a):void 0}return this.__get(e)},__get:function(e){return i[e]||this._computedAttrs[e]||t.__observe(this,e),this.___get(e)},___get:function(t){if(void 0!==t){var e=this._computedAttrs[t];return e&&e.compute?e.compute():this._data.hasOwnProperty(t)?this._data[t]:void 0}return this._data},_set:function(e,n,r){var i,a=e.indexOf(".");if(a>=0&&!r){var o=e.substr(0,a),s=e.substr(a+1);if(i=this.__inSetup?void 0:this.___get(o),!t.isMapLike(i))throw new Error("can.Map: Object does not exist");i._set(s,n)}else i=this.__inSetup?void 0:this.___get(e),this.__convert&&(n=this.__convert(e,n)),this.__set(e,this.__type(n,e),i)},__type:function(e,n){if("object"==typeof e&&!(e instanceof t.Map)&&r.canMakeObserve(e)){var i=r.getMapFromObject(e);if(i)return i;if(t.isArray(e)){var a=t.List;return new a(e)}var o=this.constructor.Map||t.Map;return new o(e)}return e},__set:function(t,e,r){if(e!==r){var i=this._computedAttrs[t],a=i||void 0!==r||this.___get().hasOwnProperty(t)?"set":"add";this.___set(t,"object"==typeof e?n.set(this,t,e,r):e),i&&i.count||this._triggerChange(t,a,e,r),"object"==typeof r&&n.teardownFromParent(this,r)}},___set:function(t,e){var n=this._computedAttrs[t];n?n.compute(e):this._data[t]=e,"function"==typeof this.constructor.prototype[t]||n||(this[t]=e)},removeAttr:function(t){return this._remove(t)},_remove:function(t){var e=r.attrParts(t),n=e.shift(),i=this.___get(n);return e.length&&i?i.removeAttr(e):("string"==typeof t&&~t.indexOf(".")&&(n=t),this.__remove(n,i),i)},__remove:function(t,e){t in this._data&&(this.___remove(t),this._triggerChange(t,"remove",void 0,e))},___remove:function(t){delete this._data[t],t in this.constructor.prototype||delete this[t]},___serialize:function(t,e){return r.getValue(this,t,e,"serialize")},_getAttrs:function(){return r.serialize(this,"attr",{})},_setAttrs:function(e,n){e=t.simpleExtend({},e);var i,a,o=this;t.batch.start(),this._each(function(i,s){if("_cid"!==s){if(a=e[s],void 0===a)return void(n&&o.removeAttr(s));o.__convert&&(a=o.__convert(s,a)),t.isMapLike(i)&&r.canMakeObserve(a)?i.attr(a,n):i!==a&&o.__set(s,o.__type(a,s),i),delete e[s]}});for(i in e)"_cid"!==i&&(a=e[i],this._set(i,a,!0));return t.batch.stop(),this},serialize:function(){return r.serialize(this,"serialize",{})},_triggerChange:function(e,r,i,a,o){n.isBubbling(this,"change")&&t.batch.trigger(this,{type:"change",target:this,batchNum:o},[e,r,i,a]),t.batch.trigger(this,{type:e,target:this,batchNum:o},[i,a]),("remove"===r||"add"===r)&&t.batch.trigger(this,{type:"__keys",target:this,batchNum:o})},_bindsetup:function(){},_bindteardown:function(){},one:t.one,bind:function(e,r){var i=this._computedAttrs&&this._computedAttrs[e];return i&&i.compute&&(i.count?i.count++:(i.count=1,i.compute.bind("change",i.handler))),n.bind(this,e),t.bindAndSetup.apply(this,arguments)},unbind:function(e,r){var i=this._computedAttrs&&this._computedAttrs[e];return i&&(1===i.count?(i.count=0,i.compute.unbind("change",i.handler)):i.count--),n.unbind(this,e),t.unbindAndTeardown.apply(this,arguments)},compute:function(e){if(t.isFunction(this.constructor.prototype[e]))return t.compute(this[e],this);var n=t.compute.read.reads(e),r=n.length-1;return t.compute(function(e){return arguments.length?void t.compute.read(this,n.slice(0,r)).value.attr(n[r].key,e):t.compute.read(this,n,{args:[]}).value},this)},each:function(){return t.each.apply(void 0,[this].concat(t.makeArray(arguments)))},_each:function(t){var e=this.___get();for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},dispatch:t.dispatch});return a.prototype.on=a.prototype.bind,a.prototype.off=a.prototype.unbind,a.on=a.bind,a.off=a.unbind,a}),define("can/list/list",["can/util/util","can/map/map","can/map/bubble","can/map/map_helpers"],function(t,e,n,r){var i=[].splice,a=function(){var t={0:"a",length:1};return i.call(t,0,1),!t[0]}(),o=e.extend({Map:e},{setup:function(e,n){this.length=0,t.cid(this,".map"),this._setupComputedProperties(),e=e||[];var i;t.isPromise(e)?this.replace(e):(i=e.length&&r.addToMap(e,this),this.push.apply(this,t.makeArray(e||[]))),i&&i(),t.simpleExtend(this,n)},_triggerChange:function(n,r,i,a){e.prototype._triggerChange.apply(this,arguments);var o=+n;~(""+n).indexOf(".")||isNaN(o)||("add"===r?(t.batch.trigger(this,r,[i,o]),t.batch.trigger(this,"length",[this.length])):"remove"===r?(t.batch.trigger(this,r,[a,o]),t.batch.trigger(this,"length",[this.length])):t.batch.trigger(this,r,[i,o]))},___get:function(t){if(t){var e=this._computedAttrs[t];return e&&e.compute?e.compute():this[t]}return this},__set:function(e,n,r){if(e=isNaN(+e)||e%1?e:+e,"number"==typeof e&&e>this.length-1){var i=new Array(e+1-this.length);return i[i.length-1]=n,this.push.apply(this,i),i}return t.Map.prototype.__set.call(this,""+e,n,r)},___set:function(t,e){this[t]=e,+t>=this.length&&(this.length=+t+1)},__remove:function(t,e){isNaN(+t)?(delete this[t],this._triggerChange(t,"remove",void 0,e)):this.splice(t,1)},_each:function(t){for(var e=this.___get(),n=0;n<e.length;n++)t(e[n],n)},serialize:function(){return r.serialize(this,"serialize",[])},splice:function(e,r){var o,s,u,c=t.makeArray(arguments),l=[],p=c.length>2;for(e=e||0,o=0,s=c.length-2;s>o;o++)u=o+2,c[u]=this.__type(c[u],u),l.push(c[u]),this[o+e]!==c[u]&&(p=!1);if(p&&this.length<=l.length)return l;void 0===r&&(r=c[1]=this.length-e);var d=i.apply(this,c);if(!a)for(o=this.length;o<d.length+this.length;o++)delete this[o];return t.batch.start(),r>0&&(n.removeMany(this,d),this._triggerChange(""+e,"remove",void 0,d)),c.length>2&&(n.addMany(this,l),this._triggerChange(""+e,"add",l,d)),t.batch.stop(),d},_getAttrs:function(){return r.serialize(this,"attr",[])},_setAttrs:function(e,n){e=t.makeArray(e),t.batch.start(),this._updateAttrs(e,n),t.batch.stop()},_updateAttrs:function(e,n){for(var i=Math.min(e.length,this.length),a=0;i>a;a++){var o=this[a],s=e[a];t.isMapLike(o)&&r.canMakeObserve(s)?o.attr(s,n):o!==s&&this._set(a+"",s)}e.length>this.length?this.push.apply(this,e.slice(this.length)):e.length<this.length&&n&&this.splice(e.length)}}),s=function(e){return e[0]&&t.isArray(e[0])?e[0]:t.makeArray(e)};return t.each({push:"length",unshift:0},function(e,r){var i=[][r];o.prototype[r]=function(){t.batch.start();for(var r,a,o=[],s=e?this.length:0,u=arguments.length;u--;)a=arguments[u],o[u]=n.set(this,u,this.__type(a,u));return r=i.apply(this,o),(!this.comparator||o.length)&&this._triggerChange(""+s,"add",o,void 0),t.batch.stop(),r}}),t.each({pop:"length",shift:0},function(e,r){o.prototype[r]=function(){if(!this.length)return void 0;var i=s(arguments),a=e&&this.length?this.length-1:0,o=[][r].apply(this,i);return t.batch.start(),this._triggerChange(""+a,"remove",void 0,[o]),o&&o.unbind&&n.remove(this,o),t.batch.stop(),o}}),t.extend(o.prototype,{indexOf:function(e,n){return t.__observe(this,"length"),t.inArray(e,this,n)},join:function(){return t.__observe(this,"length"),[].join.apply(this,arguments)},reverse:function(){var e=[].reverse.call(t.makeArray(this));return this.replace(e)},slice:function(){t.__observe(this,"length");var e=Array.prototype.slice.apply(this,arguments);return new this.constructor(e)},concat:function(){var e=[];return t.each(t.makeArray(arguments),function(n,r){e[r]=n instanceof t.List?n.serialize():n}),new this.constructor(Array.prototype.concat.apply(this.serialize(),e))},forEach:function(e,n){return t.each(this,e,n||this)},replace:function(e){if(t.isPromise(e)){this._promise&&(this._promise.__isCurrentPromise=!1);var n=this._promise=e;n.__isCurrentPromise=!0;var r=this;e.then(function(t){n.__isCurrentPromise&&r.replace(t)})}else this.splice.apply(this,[0,this.length].concat(t.makeArray(e||[])));return this},filter:function(t,e){var n,r=new this.constructor,i=this;return this.each(function(a,o,s){n=t.call(e|i,a,o,i),n&&r.push(a)}),r},map:function(e,n){var r=new t.List,i=this;return this.each(function(t,a,o){var s=e.call(n|i,t,a,i);r.push(s)}),r}}),t.List=e.List=o,t.List}),define("can/view/scope/scope",["can/util/util","can/view/scope/compute_data","can/construct/construct","can/map/map","can/list/list","can/view/view","can/compute/compute"],function(t,e){function n(t,e,n){this._context=t,this._parent=e,this._meta=n||{},this.__cache={}}function r(t,e,r){t.helpers||t.partials||t.tags||(t={helpers:t}),n.call(this,t,e,r)}return t.simpleExtend(n,{read:t.compute.read,Refs:t.Map.extend({shortName:"ReferenceMap"},{}),refsScope:function(){return new t.view.Scope(new this.Refs)}}),t.simpleExtend(n.prototype,{add:function(t,e){return t!==this._context?new this.constructor(t,this,e):this},read:function(e,n){if("%root"===e)return{value:this.getRoot()};var r="./"===e.substr(0,2),i="../"===e.substr(0,3),a="."===e||"this"===e,o=".."===e,s=r||i||a||o;if(s&&this._meta.notContext)return this._parent.read(e,n);var u;if(r)u=!0,e=e.substr(2);else{if(i){for(var c=this._parent;c._meta.notContext;)c=c._parent;return c.read(e.substr(3)||".",n)}if(a)return{value:this._context};if(o)return{value:this._parent._context}}var l=t.compute.read.reads(e);return"*"===l[0].key.charAt(0)?this.getRefs()._read(l,n,!0):this._read(l,n,u)},_read:function(e,n,r){for(var i,a,o,s,u,c=this,l=[],p=-1,d=t.simpleExtend({foundObservable:function(t,n){a=t,o=e.slice(n)},earlyExit:function(t,e){e>p&&(u=a,s=o,p=e)}},n);c;){if(i=c._context,null!==i&&("object"==typeof i||"function"==typeof i)){var h=t.__trapObserves(),f=t.compute.read(i,e,d),v=h();if(void 0!==f.value)return t.__observes(v),{scope:c,rootObserve:a,value:f.value,reads:o};l.push.apply(l,v)}c=r?null:c._parent}return t.__observes(l),{setRoot:u,reads:s,value:void 0}},get:t.__notObserve(function(e,n){n=t.simpleExtend({isArgument:!0},n);var r=this.read(e,n);return r.value}),getScope:function(t){for(var e=this;e;){if(t(e))return e;e=e._parent}},getContext:function(t){var e=this.getScope(t);return e&&e._context},getRefs:function(){return this.getScope(function(t){return t._context instanceof n.Refs})},getRoot:function(){for(var t=this,e=this;t._parent;)e=t,t=t._parent;return t._context instanceof n.Refs&&(t=e),t._context},set:function(e,n,r){var i,a,o=e.lastIndexOf("."),s=e.lastIndexOf("/");if(s>o?(i=e.substring(0,s),a=e.substring(s+1,e.length)):-1!==o?(i=e.substring(0,o),a=e.substring(o+1,e.length)):(i=".",a=e),"*"===e.charAt(0))t.compute.set(this.getRefs()._context,e,n,r);else{var u=this.read(i,r).value;t.compute.set(u,a,n,r)}},attr:t.__notObserve(function(e,n,r){return r=t.simpleExtend({isArgument:!0},r),2===arguments.length?this.set(e,n,r):this.get(e,r)}),computeData:function(t,n){return e(this,t,n)},compute:function(t,e){return this.computeData(t,e).compute},cloneFromRef:function(){for(var e,r,i=[],a=this;a;){if(e=a._context,e instanceof n.Refs){r=a._parent;break}i.unshift(e),a=a._parent}return r?(t.each(i,function(t){r=r.add(t)}),r):this}}),t.view.Scope=n,r.prototype=new n,r.prototype.constructor=r,t.view.Options=r,n}),define("can/view/stache/utils",["can/util/util","can/view/scope/scope"],function(can){var Options=can.view.Options;return{isArrayLike:function(t){return t&&t.splice&&"number"==typeof t.length},isObserveLike:function(t){return t instanceof can.Map||t&&!!t._get},emptyHandler:function(){},jsonParse:function(str){return"'"===str[0]?str.substr(1,str.length-2):"undefined"===str?void 0:can.global.JSON?JSON.parse(str):eval("("+str+")")},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(t){this.last().add(t)},subSectionDepth:function(){return this.stack.length-1}},convertToScopes:function(t,e,n,r,i,a){i&&(t.fn=this.makeRendererConvertScopes(i,e,n,r)),a&&(t.inverse=this.makeRendererConvertScopes(a,e,n,r))},makeRendererConvertScopes:function(t,e,n,r){var i=function(n,r,i){return t(n||e,r,i)};return can.__notObserve(function(t,a,o){void 0===t||t instanceof can.view.Scope||(t=e.add(t)),void 0===a||a instanceof Options||(a=n.add(a));var s=i(t,a||n,o||r);return s})},Options:Options}}),define("can/view/node_lists/node_lists",["can/util/util","can/view/elements"],function(t){var e=!0;try{document.createTextNode("")._=0}catch(n){e=!1}var r={},i={},a="ejs_"+Math.random(),o=0,s=function(t,n){var r=n||i,s=u(t,r);return s?s:e||3!==t.nodeType?(++o,t[a]=(t.nodeName?"element_":"obj_")+o):(++o,r["text_"+o]=t,"text_"+o)},u=function(t,n){if(e||3!==t.nodeType)return t[a];for(var r in n)if(n[r]===t)return r},c=[].splice,l=[].push,p=function(t){for(var e=0,n=0,r=t.length;r>n;n++){var i=t[n];i.nodeType?e++:e+=p(i)}return e},d=function(t,e){for(var n={},r=0,i=t.length;i>r;r++){var a=f.first(t[r]);n[s(a,e)]=t[r]}return n},h=function(t,e,n){for(var r in e)n[r]||t.newDeepChildren.push(e[r])},f={id:s,update:function(e,n){var r=f.unregisterChildren(e);n=t.makeArray(n);var i=e.length;return c.apply(e,[0,i].concat(n)),e.replacements?(f.nestReplacements(e),e.deepChildren=e.newDeepChildren,e.newDeepChildren=[]):f.nestList(e),r},nestReplacements:function(t){for(var e=0,n={},r=d(t.replacements,n),i=t.replacements.length,a={};e<t.length&&i;){var o=t[e],s=u(o,n),c=r[s];c&&(t.splice(e,p(c),c),a[s]=!0,i--),e++}i&&h(t,r,a),t.replacements=[]},nestList:function(t){for(var e=0;e<t.length;){var n=t[e],i=r[s(n)];i?i!==t&&t.splice(e,p(i),i):r[s(n)]=t,e++}},last:function(t){var e=t[t.length-1];return e.nodeType?e:f.last(e)},first:function(t){var e=t[0];return e.nodeType?e:f.first(e)},flatten:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.nodeType?e.push(r):e.push.apply(e,f.flatten(r))}return e},register:function(e,n,r,i){return t.cid(e),e.unregistered=n,e.parentList=r,e.nesting=r&&"undefined"!=typeof r.nesting?r.nesting+1:0,r?(e.deepChildren=[],e.newDeepChildren=[],e.replacements=[],r!==!0&&(i?r.replacements.push(e):r.newDeepChildren.push(e))):f.nestList(e),e},unregisterChildren:function(e){var n=[];return t.each(e,function(t){t.nodeType?(e.replacements||delete r[s(t)],n.push(t)):l.apply(n,f.unregister(t,!0))}),t.each(e.deepChildren,function(t){f.unregister(t,!0)}),n},unregister:function(t,e){var n=f.unregisterChildren(t,!0);if(t.unregistered){var r=t.unregistered;if(t.replacements=t.unregistered=null,!e){var i=t.parentList&&t.parentList.deepChildren;if(i){var a=i.indexOf(t);-1!==a&&i.splice(a,1)}}r()}return n},nodeMap:r};return t.view.nodeLists=f,f}),define("can/view/parser/parser",[],function(){function t(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function e(e){var n={},r=e.split(",");return t(r,function(t){n[t]=!0}),n}function n(t,e){for(var n=0,r=t.length;r>n;n++){var i=t[n];e[i.tokenType].apply(e,i.args)}return t}var r="A-Za-z0-9",i="-:_"+r,a="[^=>\\s\\/]+",o="\\s*=\\s*",s="\\{[^\\}\\{]\\}",u="\\{\\{[^\\}]\\}\\}\\}?",c="(?:"+o+"(?:(?:"+u+")|(?:"+s+")|(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?",l="\\{\\{[^\\}]*\\}\\}\\}?",p="\\{\\{([^\\}]*)\\}\\}\\}?",d=new RegExp("^<(["+r+"]["+i+"]*)((?:\\s*(?:(?:(?:"+a+")?"+c+")|(?:"+l+")+))*)\\s*(\\/?)>"),h=new RegExp("^<\\/(["+i+"]+)[^>]*>"),f=new RegExp(p,"g"),v=/<|\{\{/,g=/\s/,m=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),b=e("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),y=e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),_=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),w=e("script"),x="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),C=function(){},k=function(e,r,i){function a(t,e,n,i){if(e=e.toLowerCase(),b[e]&&!y[e])for(var a=A.last();a&&y[a]&&!b[a];)o("",a),a=A.last();_[e]&&A.last()===e&&o("",e),i=m[e]||!!i,r.start(e,i),i||A.push(e),k.parseAttrs(n,r),r.end(e,i)}function o(t,e){var n;if(e)for(e=e.toLowerCase(),n=A.length-1;n>=0&&A[n]!==e;n--);else n=0;if(n>=0){for(var i=A.length-1;i>=n;i--)r.close&&r.close(A[i]);A.length=n}}function s(t,e){r.special&&r.special(e)}if("object"==typeof e)return n(e,r);var u=[];r=r||{},i&&t(x,function(t){var e=r[t]||C;r[t]=function(){e.apply(this,arguments)!==!1&&u.push({tokenType:t,args:[].slice.call(arguments,0)})}});var c,l,p,g=function(){N&&r.chars&&r.chars(N),N=""},A=[],M=e,N="";for(A.last=function(){return this[this.length-1]};e;){if(l=!0,A.last()&&w[A.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+A.last()+"[^>]*>"),function(t,e){return e=e.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),r.chars&&r.chars(e),""}),o("",A.last());else if(0===e.indexOf("<!--")?(c=e.indexOf("-->"),c>=0&&(g(),r.comment&&r.comment(e.substring(4,c)),e=e.substring(c+3),l=!1)):0===e.indexOf("</")?(p=e.match(h),p&&(g(),e=e.substring(p[0].length),p[0].replace(h,o),l=!1)):0===e.indexOf("<")?(p=e.match(d),p&&(g(),e=e.substring(p[0].length),p[0].replace(d,a),l=!1)):0===e.indexOf("{{")&&(p=e.match(f),p&&(g(),e=e.substring(p[0].length),p[0].replace(f,s))),l){c=e.search(v),0===c&&e===M&&(N+=e.charAt(0),e=e.substr(1),c=e.search(v));var T=0>c?e:e.substring(0,c);e=0>c?"":e.substring(c),T&&(N+=T)}if(e===M)throw new Error("Parse Error: "+e);M=e}return g(),o(),r.done(),u},A=function(t,e,n,r){t.attrStart=r.substring("number"==typeof t.nameStart?t.nameStart:e,e),n.attrStart(t.attrStart),t.inName=!1},M=function(t,e,n,r){void 0!==t.valueStart&&t.valueStart<e?n.attrValue(r.substring(t.valueStart,e)):!t.inValue,n.attrEnd(t.attrStart),t.attrStart=void 0,t.valueStart=void 0,t.inValue=!1,t.inName=!1,t.lookingForEq=!1,t.inQuote=!1,t.lookingForName=!0};return k.parseAttrs=function(t,e){if(t){for(var n,r=0,i={inDoubleCurly:!1,inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};r<t.length;){n=r;var a=t.charAt(r),o=t.charAt(r+1),s=t.charAt(r+2);if(r++,"{"===a&&"{"===o)i.inValue&&n>i.valueStart?e.attrValue(t.substring(i.valueStart,n)):i.inName&&i.nameStart<n?(A(i,n,e,t),
    M(i,n,e,t)):i.lookingForValue?i.inValue=!0:i.lookingForEq&&i.attrStart&&M(i,n,e,t),i.inDoubleCurly=!0,i.doubleCurlyStart=n+2,r++;else if(i.inDoubleCurly){if("}"===a&&"}"===o){var u="}"===s?1:0;e.special(t.substring(i.doubleCurlyStart,n)),i.inDoubleCurly=!1,i.inValue&&(i.valueStart=n+2+u),r+=1+u}}else i.inValue?i.inQuote?a===i.inQuote&&M(i,n,e,t):g.test(a)&&M(i,n,e,t):"="===a&&(i.lookingForEq||i.lookingForName||i.inName)?(i.attrStart||A(i,n,e,t),i.lookingForValue=!0,i.lookingForEq=!1,i.lookingForName=!1):i.inName?g.test(a)&&(A(i,n,e,t),i.lookingForEq=!0):i.lookingForName?g.test(a)||(i.attrStart&&M(i,n,e,t),i.nameStart=n,i.inName=!0):i.lookingForValue&&(g.test(a)||(i.lookingForValue=!1,i.inValue=!0,"'"===a||'"'===a?(i.inQuote=a,i.valueStart=n+1):i.valueStart=n))}i.inName?(A(i,n+1,e,t),M(i,n+1,e,t)):i.lookingForEq?M(i,n+1,e,t):i.inValue&&M(i,n+1,e,t)}},k}),define("can/util/array/diff",[],function(){var t=[].slice;return function(e,n){for(var r=0,i=0,a=e.length,o=n.length,s=[];a>r&&o>i;){var u=e[r],c=n[i];if(u!==c)if(o>i+1&&n[i+1]===u)s.push({index:i,deleteCount:0,insert:[n[i]]}),r++,i+=2;else{if(!(a>r+1&&e[r+1]===c))return s.push({index:i,deleteCount:a-r,insert:t.call(n,i)}),s;s.push({index:i,deleteCount:1,insert:[]}),r+=2,i++}else r++,i++}return i===o&&r===a?s:(s.push({index:i,deleteCount:a-r,insert:t.call(n,i)}),s)}}),define("can/view/live/live",["can/util/util","can/view/elements","can/view/view","can/view/node_lists/node_lists","can/view/parser/parser","can/util/array/diff"],function(t,e,n,r,i,a){e=e||t.view.elements,r=r||t.view.NodeLists,i=i||t.view.parser;var o=function(e,n,r){var i=!1,a=function(){return i||(i=!0,r(o),t.unbind.call(e,"removed",a)),!0},o={teardownCheck:function(t){return t?!1:a()}};return t.bind.call(e,"removed",a),n(o),o},s=function(t){var e=t.childNodes;if("length"in e)return e;for(var n=t.firstChild,r=[];n;)r.push(n),n=n.nextSibling;return r},u=function(t,e,n){return o(t,function(){e.computeInstance.bind("change",n)},function(t){e.computeInstance.unbind("change",n),t.nodeList&&r.unregister(t.nodeList)})},c=function(t){var e,n={};return i.parseAttrs(t,{attrStart:function(t){n[t]="",e=t},attrValue:function(t){n[e]+=t},attrEnd:function(){}}),n},l=[].splice,p=function(t){return t&&t.nodeType},d=function(t){t.firstChild||t.appendChild(t.ownerDocument.createTextNode(""))},h=function(e){var n="string"==typeof e,r=t.frag(e);return n?t.view.hookup(r):r},f=function(e,n,i,a,o){var u=[];n&&(r.register(u,null,!0,!0),u.parentList=n,u.expression="#each SUBEXPRESSION");var c=i.apply(a,o.concat([u])),l=h(c),p=t.makeArray(s(l));return n?(r.update(u,p),e.push(u)):e.push(r.register(p)),l},v=function(e,n,i){var a=e.splice(n+1,i),o=[];return t.each(a,function(t){var e=r.unregister(t);[].push.apply(o,e)}),o},g=function(t,n,r,i){if(n&&0===t.length){var a=[],o=f(a,i,n,t,[t]);e.after([r[0]],o),r.push(a[0])}},m={},b={registerChildMutationCallback:function(t,e){return e?void(m[t]=e):m[t]},callChildMutationCallback:function(t){var e=t&&m[t.nodeName.toLowerCase()];e&&e(t)},list:function(n,i,s,u,c,p,d){var h,m=p||[n],y=[],_=!1,w=!1,x=function(n,i,a){if(_){var o=M.ownerDocument.createDocumentFragment(),c=[],d=[];t.each(i,function(e,n){var r=t.compute(n+a),i=f(c,p,s,u,[e,r]);o.appendChild(i),d.push(r)});var h=a+1;if(!y.length){var g=v(m,0,m.length-1);t.remove(t.$(g))}if(m[h]){var w=r.first(m[h]);t.insertBefore(w.parentNode,o,w)}else e.after(1===h?[M]:[r.last(m[h-1])],o);l.apply(m,[h,0].concat(c)),l.apply(y,[a,0].concat(d));for(var x=a+d.length,C=y.length;C>x;x++)y[x](x);n.callChildMutationCallback!==!1&&b.callChildMutationCallback(M.parentNode)}},C=function(t,e,n){k({},{length:1},n,!0),x({},[e],n)},k=function(e,n,i,a,o){if(_&&(a||!O.teardownCheck(M.parentNode))){0>i&&(i=y.length+i);var s=v(m,i,n.length);y.splice(i,n.length);for(var u=i,c=y.length;c>u;u++)y[u](u);o?r.unregister(m):(g(h,d,m,p),t.remove(t.$(s)),e.callChildMutationCallback!==!1&&b.callChildMutationCallback(M.parentNode))}},A=function(e,n,i,a){if(_){i+=1,a+=1;var o,s=m[i],u=t.frag(r.flatten(m[a]));o=i>a?r.last(s).nextSibling:r.first(s);var c=m[0].parentNode;c.insertBefore(u,o);var l=m[a];[].splice.apply(m,[a,1]),[].splice.apply(m,[i,0,l]),i-=1,a-=1;var p=y[a];[].splice.apply(y,[a,1]),[].splice.apply(y,[i,0,p]);var d=Math.min(a,i),h=y.length;for(h;h>d;d++)y[d](d);e.callChildMutationCallback!==!1&&b.callChildMutationCallback(M.parentNode)}},M=n.ownerDocument.createTextNode(""),N=function(t){h&&h.unbind&&h.unbind("add",x).unbind("set",C).unbind("remove",k).unbind("move",A),k({callChildMutationCallback:!!t},{length:m.length-1},0,!0,t)},T=function(e,n,r){if(!w){if(_=!0,n&&r){h=n||[];var i=a(r,n);r.unbind&&r.unbind("add",x).unbind("set",C).unbind("remove",k).unbind("move",A);for(var o=0,s=i.length;s>o;o++){var u=i[o];u.deleteCount&&k({callChildMutationCallback:!1},{length:u.deleteCount},u.index,!0),u.insert.length&&x({callChildMutationCallback:!1},u.insert,u.index)}}else r&&N(),h=n||[],x({callChildMutationCallback:!1},h,0),g(h,d,m,p);b.callChildMutationCallback(M.parentNode),_=!1,h.bind&&h.bind("add",x).bind("set",C).bind("remove",k).bind("move",A),t.batch.afterPreviousEvents(function(){_=!0})}};c=e.getParentNode(n,c);var O=o(c,function(){t.isFunction(i)&&i.bind("change",T)},function(){t.isFunction(i)&&i.unbind("change",T),N(!0)});p?(e.replace(m,M),r.update(m,[M]),p.unregistered=function(){O.teardownCheck(),w=!0}):b.replace(m,M,O.teardownCheck),T({},t.isFunction(i)?i():i)},html:function(n,i,a,o){var c;a=e.getParentNode(n,a),c=u(a,i,function(t,e,n){var i=r.first(l).parentNode;i&&h(e);var a=r.first(l).parentNode;c.teardownCheck(a),b.callChildMutationCallback(a)});var l=o||[n],h=function(n){var i="function"==typeof n,o=p(n),u=t.frag(i?"":n),c=t.makeArray(l);d(u),o||i||(u=t.view.hookup(u,a)),c=r.update(l,s(u)),i&&n(u.firstChild),e.replace(c,u)};c.nodeList=l,o?o.unregistered=c.teardownCheck:r.register(l,c.teardownCheck),h(i())},replace:function(n,i,a){var o=n.slice(0),u=t.frag(i);return r.register(n,a),"string"==typeof i&&(u=t.view.hookup(u,n[0].parentNode)),r.update(n,s(u)),e.replace(o,u),n},text:function(n,i,a,o){var s=e.getParentNode(n,a),c=u(s,i,function(e,n,r){"unknown"!=typeof l.nodeValue&&(l.nodeValue=t.view.toStr(n)),c.teardownCheck(l.parentNode)}),l=n.ownerDocument.createTextNode(t.view.toStr(i()));o?(o.unregistered=c.teardownCheck,c.nodeList=o,r.update(o,[l]),e.replace([n],l)):c.nodeList=b.replace([n],l,c.teardownCheck)},setAttributes:function(e,n){var r=c(n);for(var i in r)t.attr.set(e,i,r[i])},attributes:function(n,r,i){var a={},o=function(r){var i,o=c(r);for(i in o){var s=o[i],u=a[i];s!==u&&t.attr.set(n,i,s),delete a[i]}for(i in a)e.removeAttr(n,i);a=o};u(n,r,function(t,e){o(e)}),arguments.length>=3?a=c(i):o(r())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(n,r,i){u(n,i,function(t,i){e.setAttr(n,r,s.render())});var a,o=t.$(n);a=t.data(o,"hooks"),a||t.data(o,"hooks",a={});var s,c=String(e.getAttr(n,r)),l=c.split(b.attributePlaceholder),p=[];p.push(l.shift(),l.join(b.attributePlaceholder)),a[r]?a[r].computes.push(i):a[r]={render:function(){var t=0,n=c?c.replace(b.attributeReplace,function(){return e.contentText(s.computes[t++]())}):e.contentText(s.computes[t++]());return n},computes:[i],batchNum:void 0},s=a[r],p.splice(1,0,i()),e.setAttr(n,r,p.join(""))},specialAttribute:function(t,n,r){u(t,r,function(r,i){e.setAttr(t,n,_(i))}),e.setAttr(t,n,_(r()))},simpleAttribute:function(t,n,r){u(t,r,function(r,i){e.setAttr(t,n,i)}),e.setAttr(t,n,r())}};b.attr=b.simpleAttribute,b.attrs=b.attributes,b.getAttributeParts=c;var y=/(\r|\n)+/g,_=function(t){var n=/^["'].*["']$/;return t=t.replace(e.attrReg,"").replace(y,""),n.test(t)?t.substr(1,t.length-2):t};return t.view.live=b,b}),define("can/view/stache/mustache_helpers",["can/util/util","can/view/stache/utils","can/view/live/live"],function(t,e,n){n=n||t.view.live;var r=function(n){return e.isObserveLike(n)&&e.isArrayLike(n)&&n.attr("length")?n:t.isFunction(n)?n():n},i=function(t){var e={};for(var n in t){var r=t[n];r&&r.isComputed?e[n]=r():e[n]=r}return e},a=function(t){return t&&"function"==typeof t.fn&&"function"==typeof t.inverse},o={each:function(i,a){var o,s,u,c=r(i),l=[];if(c instanceof t.List)return function(e){var r=[e];r.expression="live.list",t.view.nodeLists.register(r,null,a.nodeList,!0),t.view.nodeLists.update(a.nodeList,[e]);var o=function(t,e,n){return a.fn(a.scope.add({"%index":e,"@index":e},{notContext:!0}).add(t),a.options,n)};n.list(e,i,o,a.context,e.parentNode,r,function(t,e){return a.inverse(a.scope.add(t),a.options,e)})};var p=c;if(p&&e.isArrayLike(p))for(u=0;u<p.length;u++)l.push(a.fn(a.scope.add({"%index":u,"@index":u},{notContext:!0}).add(p[u])));else if(e.isObserveLike(p))for(o=t.Map.keys(p),u=0;u<o.length;u++)s=o[u],l.push(a.fn(a.scope.add({"%key":s,"@key":s},{notContext:!0}).add(p[s])));else if(p instanceof Object)for(s in p)l.push(a.fn(a.scope.add({"%key":s,"@key":s},{notContext:!0}).add(p[s])));return l},"@index":function(e,n){n||(n=e,e=0);var r=n.scope.attr("@index");return""+((t.isFunction(r)?r():r)+e)},"if":function(e,n){var i;return i=t.isFunction(e)?t.compute.truthy(e)():!!r(e),i?n.fn(n.scope||this):n.inverse(n.scope||this)},is:function(){var e,n,i=arguments[arguments.length-1];if(arguments.length-2<=0)return i.inverse();var a=arguments,o=t.compute(function(){for(var i=0;i<a.length-1;i++){if(n=r(a[i]),n=t.isFunction(n)?n():n,i>0&&n!==e)return!1;e=n}return!0});return o()?i.fn():i.inverse()},eq:function(){return o.is.apply(this,arguments)},unless:function(e,n){return o["if"].apply(this,[e,t.extend({},n,{fn:n.inverse,inverse:n.fn})])},"with":function(t,e){var n=t;return t=r(t),t?e.fn(n):void 0},log:function(t,e){"undefined"!=typeof console&&console.log&&(e?console.log(t,e.context):console.log(t.context))},data:function(e){var n=2===arguments.length?this:arguments[1];return function(r){t.data(t.$(r),e,n||this.context)}},"switch":function(t,e){r(t);var n=!1,i=e.helpers.add({"case":function(e,i){return n||r(t)!==r(e)?void 0:(n=!0,i.fn(i.scope||this))},"default":function(t){return n?void 0:t.fn(t.scope||this)}});return e.fn(e.scope,i)},joinBase:function(e){var n=[].slice.call(arguments),i=n.pop(),a=t.map(n,function(e){var n=r(e);return t.isFunction(n)?n():n}).join(""),o=i.helpers.attr("helpers.module"),s=o?o.uri:void 0,u="."===a[0];if(u&&s)return t.joinURIs(s,a);var c=t.baseURL||"undefined"!=typeof System&&(System.renderingLoader&&System.renderingLoader.baseURL||System.baseURL)||location.pathname;return"/"!==a[0]&&"/"!==c[c.length-1]&&(c+="/"),t.joinURIs(c,a)},routeUrl:function(e,n){return e||(e={}),"function"==typeof e.fn&&"function"==typeof e.inverse&&(e=i(e.hash)),t.route.url(e,"boolean"==typeof n?n:void 0)},routeCurrent:function(e){var n=t.last(arguments),r=n&&a(n);return!n||!r||n.exprData instanceof t.expression.Call?t.route.current(a(e)?{}:e||{}):t.route.current(i(e.hash||{}))?e.fn():e.inverse()}};o.routeCurrent.callAsMethod=!0,o.eachOf=o.each;var s=function(t,e){o[t]=e};return{registerHelper:s,registerSimpleHelper:function(e,n){s(e,t.view.simpleHelper(n))},getHelper:function(t,e){var n=e&&e.get("helpers."+t,{proxyMethods:!1});return n||(n=o[t]),n?{fn:n}:void 0}}}),define("can/view/stache/expression",["can/util/util","can/view/stache/utils","can/view/stache/mustache_helpers","can/view/scope/scope"],function(t,e,n,r){var i=function(e,n,r){var i=n.computeData(e,r);return t.compute.temporarilyBind(i.compute),i},a=function(t,e,n,r){var a=i(t,e,r);return a.compute.computeInstance.hasDependencies?{value:a.compute,computeData:a}:{value:a.initialValue,computeData:a}},o=function(t,e,r,i){var o=a(t,e,r,i);if(void 0===o.computeData.initialValue){"@"===t.charAt(0)&&"@index"!==t&&(t=t.substr(1));var s=n.getHelper(t,r);o.helper=s&&s.fn}return o},s=function(t){return t instanceof p||t instanceof u||t instanceof d?t:new p(t)},u=function(t){this._value=t};u.prototype.value=function(){return this._value};var c=function(t,e){this.key=t,this.rootExpr=e};c.prototype.value=function(t,e){var n=o(this.key,t,e);return this.isHelper=n.helper&&!n.helper.callAsMethod,n.helper||n.value};var l=function(t,e){c.apply(this,arguments)};l.prototype.value=function(t,e){return a(this.key,t,e).value};var p=function(t,e){this.expr=t,this.modifiers=e||{},this.isCompute=!1};p.prototype.value=function(){return this.expr.value.apply(this.expr,arguments)};var d=function(t){this.hashExprs=t};d.prototype.value=function(){var e={};for(var n in this.hashExprs){var r=this.hashExprs[n],i=r.value.apply(r,arguments);e[n]={call:i&&i.isComputed&&(!r.modifiers||!r.modifiers.compute),value:i}}return t.compute(function(){var t={};for(var n in e)t[n]=e[n].call?e[n].value():e[n].value;return t})};var h=function(e,n,r){r&&!t.isEmptyObject(r)&&n.push(new d(r)),this.methodExpr=e,this.argExprs=t.map(n,s)};h.prototype.args=function(t,e){for(var n=[],r=0,i=this.argExprs.length;i>r;r++){var a=this.argExprs[r],o=a.value.apply(a,arguments);n.push({call:o&&o.isComputed&&(!a.modifiers||!a.modifiers.compute),value:o})}return function(){for(var t=[],e=0,r=n.length;r>e;e++)t[e]=n[e].call?n[e].value():n[e].value;return t}},h.prototype.value=function(e,n,r){var i=this.methodExpr.value(e,n);this.isHelper=this.methodExpr.isHelper;var a=this.args(e,n);return t.compute(function(t){var e=i;if(e&&e.isComputed&&(e=e()),"function"==typeof e){var n=a();return r&&n.push(r),arguments.length&&n.unshift(new T.SetIdentifier(t)),e.apply(null,n)}})};var f=function(){c.apply(this,arguments)};f.prototype.value=function(t,e){var n=o(this.key,t,e,{isArgument:!0,args:[t.attr("."),t]});return n.helper||n.value};var v=function(){c.apply(this,arguments)};v.prototype.value=function(t,e){return a(this.key,t,e,{callMethodsOnObservables:!0,isArgument:!0,args:[t.attr("."),t]}).value};var g=function(t,e,n){this.methodExpr=t,this.argExprs=e,this.hashExprs=n,this.mode=null};g.prototype.args=function(t,e){for(var n=[],r=0,i=this.argExprs.length;i>r;r++){var a=this.argExprs[r];n.push(a.value.apply(a,arguments))}return n},g.prototype.hash=function(t,e){var n={};for(var r in this.hashExprs){var i=this.hashExprs[r];n[r]=i.value.apply(i,arguments)}return n},g.prototype.helperAndValue=function(e,r){var a,o,s,c,l=this.argExprs.length||!t.isEmptyObject(this.hashExprs),p=this.methodExpr instanceof u?""+this.methodExpr._value:this.methodExpr.key;if(l){a=n.getHelper(p,r);var d=e.attr(".");a||"function"!=typeof d[p]||(a={fn:d[p]})}if(!a){c=this.args(e,r);var h=i(p,e,{isArgument:!1,args:c&&c.length?c:[e.attr("."),e]}),f=h.compute;s=h.initialValue,o=h.compute.computeInstance.hasDependencies?f:s,l||void 0!==s||(a=n.getHelper(p,r))}return{value:o,args:c,helper:a&&a.fn}},g.prototype.evaluator=function(n,r,i,a,o,s,u,c){var l={fn:function(){},inverse:function(){}},p=r.attr("."),d=this.args(r,i,o,s,u,c),h=this.hash(r,i,o,s,u,c);return e.convertToScopes(l,r,i,o,s,u),t.simpleExtend(l,{context:p,scope:r,contexts:r,hash:h,nodeList:o,exprData:this,helperOptions:i,helpers:i}),d.push(l),function(){return n.apply(p,d)}},g.prototype.value=function(e,n,r,i,a,o){var s=this.helperAndValue(e,n),u=s.helper;if(!u)return s.value;var c=this.evaluator(u,e,n,r,i,a,o),l=t.compute(c);return t.compute.temporarilyBind(l),l.computeInstance.hasDependencies?l:l()};var m=/[\w\.\\\-_@\/\&%]+/,b=/('.*?'|".*?"|=|[\w\.\\\-_@\/*%\$]+|[\(\)]|,|\~)/g,y=/^('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)$/,_=function(t){return m.test(t)},w=/^[\.@]\w/,x=function(t){return _(t)&&w.test(t)},C=function(t){return t.children||(t.children=[]),t},k=function(){this.root={children:[],type:"Root"},this.current=this.root,this.stack=[this.root]};t.simpleExtend(k.prototype,{top:function(){return t.last(this.stack)},isRootTop:function(){return this.top()===this.root},popTo:function(t){this.popUntil(t),this.isRootTop()||this.stack.pop()},firstParent:function(e){for(var n=this.stack.length-2;n>0&&-1===t.inArray(this.stack[n].type,e);)n--;return this.stack[n]},popUntil:function(e){for(;-1===t.inArray(this.top().type,e)&&!this.isRootTop();)this.stack.pop();return this.top()},addTo:function(t,e){var n=this.popUntil(t);C(n).children.push(e)},addToAndPush:function(t,e){this.addTo(t,e),this.stack.push(e)},topLastChild:function(){return t.last(this.top().children)},replaceTopLastChild:function(t){var e=C(this.top()).children;return e.pop(),e.push(t),t},replaceTopLastChildAndPush:function(t){this.replaceTopLastChild(t),this.stack.push(t)},replaceTopAndPush:function(t){var e;return this.top()===this.root?e=C(this.top()).children:(this.stack.pop(),e=C(this.top()).children),e.pop(),e.push(t),this.stack.push(t),t}});var A=function(t){var e=t.lastIndexOf("./"),n=t.lastIndexOf(".");if(n>e)return t.substr(0,n)+"@"+t.substr(n+1);var r=-1===e?0:e+2,i=t.charAt(r);return"."===i||"@"===i?t.substr(0,r)+"@"+t.substr(r+1):t.substr(0,r)+"@"+t.substr(r)},M=function(t){return"Lookup"===t.type&&(t.key=A(t.key)),t},N=function(t){var e=t.top();if(e&&"Lookup"===e.type){var n=t.stack[t.stack.length-2];"Helper"!==n.type&&n&&t.replaceTopAndPush({type:"Helper",method:e})}},T={convertKeyToLookup:A,Literal:u,Lookup:c,ScopeLookup:l,Arg:p,Hashes:d,Call:h,Helper:g,HelperLookup:f,HelperScopeLookup:v,SetIdentifier:function(t){this.value=t},tokenize:function(e){var n=[];return(t.trim(e)+" ").replace(b,function(t,e){n.push(e)}),n},lookupRules:{"default":function(t,e,n){var r=("Helper"!==e||t.root?"":"Helper")+(n?"Scope":"")+"Lookup";return T[r]},method:function(t,e,n){return l}},methodRules:{"default":function(t){return"Call"===t.type?h:g},call:function(t){return h}},parse:function(t,e){e=e||{};var n=this.ast(t);e.lookupRule||(e.lookupRule="default"),"string"==typeof e.lookupRule&&(e.lookupRule=T.lookupRules[e.lookupRule]),e.methodRule||(e.methodRule="default"),"string"==typeof e.methodRule&&(e.methodRule=T.methodRules[e.methodRule]);var r=this.hydrateAst(n,e,e.baseMethodType||"Helper");return r},hydrateAst:function(e,n,r,i){var a,o=this;if("Lookup"===e.type)return new(n.lookupRule(e,r,i))(e.key,e.root&&this.hydrateAst(e.root,n,r));if("Literal"===e.type)return new u(e.value);if("Arg"===e.type)return new p(this.hydrateAst(e.children[0],n,r,i),{compute:!0});if("Hashes"===e.type)return a={},t.each(e.children,function(t){a[t.prop]=o.hydrateAst(t.children[0],n,e.type,!0)}),new d(a);if("Hash"===e.type)throw new Error("");if("Call"===e.type||"Helper"===e.type){var s=[];return a={},t.each(e.children,function(t){"Hash"===t.type?a[t.prop]=o.hydrateAst(t.children[0],n,e.type,!0):s.push(o.hydrateAst(t,n,e.type,!0))}),new(n.methodRule(e))(this.hydrateAst(e.method,n,e.type),s,a)}},ast:function(t){var e=this.tokenize(t);return this.parseAst(e,{index:0})},parseAst:function(n,r){for(var i,a=new k;r.index<n.length;){var o=n[r.index],s=n[r.index+1];if(r.index++,y.test(o))N(a),a.addTo(["Helper","Call","Hash"],{type:"Literal",value:e.jsonParse(o)});else if("="===s){if(i=a.top(),i&&"Lookup"===i.type){var u=a.firstParent(["Call","Helper","Hash"]);("Call"===u.type||"Root"===u.type)&&(a.popUntil(["Call"]),i=a.top(),a.replaceTopAndPush({type:"Helper",method:"Root"===i.type?t.last(i.children):i}))}i=a.popUntil(["Helper","Call","Hashes"]),"Call"===i.type&&a.addToAndPush(["Call"],{type:"Hashes"}),a.addToAndPush(["Helper","Hashes"],{type:"Hash",prop:o}),r.index++}else if(m.test(o)){var c=a.topLastChild();c&&"Call"===c.type&&x(o)?a.replaceTopLastChildAndPush({type:"Lookup",root:c,key:o}):(N(a),a.addToAndPush(["Helper","Call","Hash","Arg"],{type:"Lookup",key:o}))}else if("~"===o)N(a),a.addToAndPush(["Helper","Call","Hash"],{type:"Arg",key:o});else if("("===o){if(i=a.top(),"Lookup"!==i.type)throw new Error("Unable to understand expression "+n.join(""));a.replaceTopAndPush({type:"Call",method:M(i)})}else")"===o?a.popTo(["Call"]):","===o&&a.popUntil(["Call"])}return a.root.children[0]}};return t.expression=T,T}),define("can/view/href/href",["can/util/util","can/view/stache/expression","can/view/callbacks/callbacks","can/view/scope/scope"],function(t,e){var n=function(t){return"{"===t[0]&&"}"===t[t.length-1]?t.substr(1,t.length-2):t};t.view.attr("can-href",function(r,i){var a=e.parse("tmp("+n(r.getAttribute("can-href"))+")",{baseMethodType:"Call"}),o=a.argExprs[0].value(i.scope,null),s=t.compute(function(){return t.route.url(o())});r.setAttribute("href",s());var u=function(t,e){r.setAttribute("href",e)};s.bind("change",u),t.bind.call(r,"removed",function(){s.unbind("change",u)})})}),define("can/view/bindings/bindings",["can/util/util","can/view/stache/expression","can/view/callbacks/callbacks","can/view/live/live","can/view/scope/scope","can/view/href/href"],function(t,e,n,r){var i={viewModel:function(e,n,r,i){i=i||{};var a,o={},s=[],u={},c={},p=t.extend({},i);t.each(t.makeArray(e.attributes),function(t){var r=l(t,e,{templateType:n.templateType,scope:n.scope,semaphore:o,getViewModel:function(){return a},attributeViewModelBindings:p,alreadyUpdatedChild:!0,nodeList:n.parentNodeList});r&&(r.onCompleteBinding&&(r.bindingInfo.parentToChild&&void 0!==r.value&&(i[m(r.bindingInfo.childName)]=r.value),s.push(r.onCompleteBinding)),u[t.name]=r.onTeardown)}),a=r(i);for(var d=0,h=s.length;h>d;d++)s[d]();return t.bind.call(e,"attributes",function(t){var r=t.attributeName,i=e.getAttribute(r);u[r]&&u[r]();var o=c[r]&&"attribute"===c[r].parent;if(null!==i||o){var s=l({name:r,value:i},e,{templateType:n.templateType,scope:n.scope,semaphore:{},getViewModel:function(){return a},attributeViewModelBindings:p,initializeValues:!0,nodeList:n.parentNodeList});s&&(s.onCompleteBinding&&s.onCompleteBinding(),c[r]=s.bindingInfo,u[r]=s.onTeardown)}}),function(){for(var t in u)u[t]()}},data:function(e,n){if(!t.data(t.$(e),"preventDataBindings")){var r,i=t.viewModel(e),a={},o=l({name:n.attributeName,value:e.getAttribute(n.attributeName),nodeList:n.nodeList},e,{templateType:n.templateType,scope:n.scope,semaphore:a,getViewModel:function(){return i}});o.onCompleteBinding&&o.onCompleteBinding(),r=o.onTeardown,t.one.call(e,"removed",function(){r()}),t.bind.call(e,"attributes",function(t){var o=t.attributeName,s=e.getAttribute(o);if(o===n.attributeName&&(r&&r(),null!==s)){var u=l({name:o,value:s},e,{templateType:n.templateType,scope:n.scope,semaphore:a,getViewModel:function(){return i},initializeValues:!0,nodeList:n.nodeList});u&&(u.onCompleteBinding&&u.onCompleteBinding(),r=u.onTeardown)}})}},reference:function(e,n){e.getAttribute(n.attributeName)&&console.warn("*reference attributes can only export the view model.");var r=t.camelize(n.attributeName.substr(1).toLowerCase()),i=t.viewModel(e),a=n.scope.getRefs();a._context.attr("*"+r,i)},event:function(n,r){var i=r.attributeName,a=0===i.indexOf("can-"),o=0===i.indexOf("can-")?i.substr("can-".length):t.camelize(f(i,"(",")")),s=a;"$"===o.charAt(0)&&(o=o.substr(1),s=!0);var u=function(a){var o=n.getAttribute(i);if(o){var s=t.$(n),u=t.viewModel(s[0]),c=e.parse(f(o),{lookupRule:"method",methodRule:"call"});if(!(c instanceof e.Call||c instanceof e.Helper)){var l=t.map([r.scope._context,s].concat(t.makeArray(arguments)),function(t){return new e.Literal(t)});c=new e.Call(c,l,{})}var p=r.scope.read(c.methodExpr.key,{isArgument:!0});if(!p.value)return p=r.scope.read(c.methodExpr.key,{isArgument:!0}),null;var d=r.scope.add({"@element":s,"@event":a,"@viewModel":u,"@scope":r.scope,"@context":r.scope._context,"%element":this,$element:s,"%event":a,"%viewModel":u,"%scope":r.scope,"%context":r.scope._context},{notContext:!0}),h=c.args(d,null)();return p.value.apply(p.parent,h)}};if(b[o]){var c=b[o](r,n,u);u=c.handler,o=c.event}t.bind.call(s?n:t.viewModel(n),o,u);var l=function(e){e.attributeName!==i||this.getAttribute(i)||(t.unbind.call(s?n:t.viewModel(n),o,u),t.unbind.call(n,"attributes",l))};t.bind.call(n,"attributes",l)},value:function(e,n){var r,i="$value",o=t.trim(f(e.getAttribute("can-value")));if("input"!==e.nodeName.toLowerCase()||"checkbox"!==e.type&&"radio"!==e.type)h(e)&&(i="$innerHTML");else{var s=a.scope(e,n.scope,o,{},!0);if("checkbox"===e.type){var u=t.attr.has(e,"can-true-value")?e.getAttribute("can-true-value"):!0,c=t.attr.has(e,"can-false-value")?e.getAttribute("can-false-value"):!1;r=t.compute(function(t){return arguments.length?void s(t?u:c):s()==u})}else"radio"===e.type&&(r=t.compute(function(t){return arguments.length?void(t&&s(e.value)):s()==e.value}));i="$checked",o="getterSetter",n.scope=new t.view.Scope({getterSetter:r})}var p=l({name:"{("+i+"})",value:o},e,{templateType:n.templateType,scope:n.scope,semaphore:{},initializeValues:!0,legacyBindings:!0,syncChildWithParent:!0});t.one.call(e,"removed",function(){p.onTeardown()})}};t.view.attr(/^\{[^\}]+\}$/,i.data),t.view.attr(/\*[\w\.\-_]+/,i.reference),t.view.attr(/^\([\$?\w\.\-]+\)$/,i.event),t.view.attr(/can-[\w\.]+/,i.event),t.view.attr("can-value",i.value);var a={scope:function(n,r,i,a,o,s){if(i){if(o){var u=e.parse(i,{baseMethodType:"Call"});return u.value(r,new t.view.Options({}))}return function(t){r.attr(m(i),t)}}return t.compute()},viewModel:function(e,n,r,i,a,o){var s=m(r);return a?t.compute(function(e){var n=i.getViewModel();return arguments.length?void n.attr(s,e):"."===r?n:t.compute.read(n,t.compute.read.reads(r),{}).value}):function(t){i.getViewModel().attr(s,t)}},attribute:function(e,n,r,i,a,o,s){var u,c,l,p,d,h="select"===e.nodeName.toLowerCase(),f="value"===r&&h&&e.multiple,v=!1;s||(s="innerHTML"===r?["blur","change"]:"change"),t.isArray(s)||(s=[s]);var g=function(n){if(h&&!v&&(clearTimeout(l),l=setTimeout(function(){g(n)},1)),c=n,f){n&&"string"==typeof n?(n=n.split(";"),u=!0):n=n?t.makeArray(n):[];var a={};t.each(n,function(t){a[t]=!0}),t.each(e.childNodes,function(t){t.value&&(t.selected=!!a[t.value])})}else!i.legacyBindings&&h&&"selectedIndex"in e&&"value"===r?t.attr.setSelectValue(e,n):t.attr.setAttrOrProp(e,r,null==n?"":n);return n},m=function(){if(f){var n=[],i=e.childNodes;return t.each(i,function(t){t.selected&&t.value&&n.push(t.value)}),u?n.join(";"):n}return h&&"selectedIndex"in e&&-1===e.selectedIndex?void 0:t.attr.get(e,r)};h&&setTimeout(function(){v=!0},1),e.tagName&&"input"===e.tagName.toLowerCase()&&e.form&&(p=[{el:e.form,eventName:"reset",handler:function(){g(d)}}]);var b;return d=m(),t.compute(d,{on:function(n){if(t.each(s,function(r){t.bind.call(e,r,n)}),t.each(p,function(e){t.bind.call(e.el,e.eventName,e.handler)}),h){var r=function(t){o&&g(o()),n()};t.attr.MutationObserver?(b=new t.attr.MutationObserver(r),b.observe(e,{childList:!0,subtree:!0})):t.data(t.$(e),"canBindingCallback",{onMutation:r})}},off:function(n){t.each(s,function(r){t.unbind.call(e,r,n)}),t.each(p,function(e){t.unbind.call(e.el,e.eventName,e.handler)}),h&&(t.attr.MutationObserver?b.disconnect():t.data(t.$(e),"canBindingCallback",null))},get:m,set:g})}},o={childToParent:function(e,n,r,i,a,o){var s="function"==typeof n,u=function(e,u){i[a]||(s?(n(u),o&&n()!==r()&&(i[a]=(i[a]||0)+1,t.batch.start(),r(n()),t.batch.after(function(){--i[a]}),t.batch.stop())):n instanceof t.Map&&n.attr(u,!0))};return r&&r.isComputed&&r.bind("change",u),u},parentToChild:function(e,n,r,i,a){var o=function(e,n){i[a]=(i[a]||0)+1,t.batch.start(),r(n),t.batch.after(function(){--i[a]}),t.batch.stop()};return n&&n.isComputed&&n.bind("change",o),o}},s=function(e,r,i,a){var o=e.name,s=e.value||"",l=o.match(u);if(!l){var p=c.test(o),d=t.camelize(o);if(p||n.attr(o))return;var h="{"===s[0]&&"}"===t.last(s),f="legacy"===i?r[d]:!h,v=h?s.substr(1,s.length-2):s;return f?{bindingAttributeName:o,parent:"attribute",parentName:o,child:"viewModel",childName:d,parentToChild:!0,childToParent:!0}:{bindingAttributeName:o,parent:"scope",parentName:v,child:"viewModel",childName:d,parentToChild:!0,childToParent:!0}}var g=!!l[1],m=g||!!l[2],b=g||!m,y=l[3],_="$"===y.charAt(0);if(_){var w={parent:"scope",child:"attribute",childToParent:m,parentToChild:b,bindingAttributeName:o,childName:y.substr(1),parentName:s,initializeValues:!0};return"select"===a&&(w.stickyParentToChild=!0),w}return{parent:"scope",child:"viewModel",childToParent:m,parentToChild:b,bindingAttributeName:o,childName:t.camelize(y),parentName:s,initializeValues:!0}},u=/\{(\()?(\^)?([^\}\)]+)\)?\}/,c=/^(data-view-id|class|id|\[[\w\.-]+\]|#[\w\.-])$/i,l=function(e,n,r){var i=s(e,r.attributeViewModelBindings,r.templateType,n.nodeName.toLowerCase());if(i){i.alreadyUpdatedChild=r.alreadyUpdatedChild,r.initializeValues&&(i.initializeValues=!0);var u,c,l,d=a[i.parent](n,r.scope,i.parentName,r,i.parentToChild),h=a[i.child](n,r.scope,i.childName,r,i.childToParent,i.stickyParentToChild&&d);r.nodeList&&(d&&d.isComputed&&d.computeInstance.setPrimaryDepth(r.nodeList.nesting+1),h&&h.isComputed&&h.computeInstance.setPrimaryDepth(r.nodeList.nesting+1)),i.parentToChild&&(c=o.parentToChild(n,d,h,r.semaphore,i.bindingAttributeName));var f=function(){i.childToParent?u=o.childToParent(n,d,h,r.semaphore,i.bindingAttributeName,r.syncChildWithParent):i.stickyParentToChild&&h.bind("change",l=t.k),i.initializeValues&&p(i,h,d,c,u)},m=function(){g(d,c),g(h,u),g(h,l)};return"viewModel"===i.child?{value:v(d),onCompleteBinding:f,bindingInfo:i,onTeardown:m}:(f(),{bindingInfo:i,onTeardown:m})}},p=function(t,e,n,r,i){var a=!1;t.parentToChild&&!t.childToParent||(!t.parentToChild&&t.childToParent?a=!0:void 0===v(e)||void 0===v(n)&&(a=!0)),a?i({},v(e)):t.alreadyUpdatedChild||r({},v(n))};if(!t.attr.MutationObserver){var d=function(e){var n=t.data(t.$(e),"canBindingCallback");n&&n.onMutation(e)};r.registerChildMutationCallback("select",d),r.registerChildMutationCallback("optgroup",function(t){d(t.parentNode)})}var h=function(){var t={"":!0,"true":!0,"false":!1},e=function(e){if(e&&e.getAttribute){var n=e.getAttribute("contenteditable");return t[n]}};return function(t){var n=e(t);return"boolean"==typeof n?n:!!e(t.parentNode)}}(),f=function(t,e,n){return e=e||"{",n=n||"}",t[0]===e&&t[t.length-1]===n?t.substr(1,t.length-2):t},v=function(t){return t&&t.isComputed?t():t},g=function(t,e){t&&t.isComputed&&"function"==typeof e&&t.unbind("change",e)},m=function(t){return t.replace(/@/g,"")},b={enter:function(t,e,n){return{event:"keyup",handler:function(t){return 13===t.keyCode?n.call(this,t):void 0}}}};return t.bindings={behaviors:i,getBindingInfo:s,special:b},t.bindings}),define("can/control/control",["can/util/util","can/construct/construct"],function(t){var e,n=function(e,n,r){return t.bind.call(e,n,r),function(){t.unbind.call(e,n,r)}},r=t.isFunction,i=t.extend,a=t.each,o=[].slice,s=/\{([^\}]+)\}/g,u=t.getObject("$.event.special",[t])||{},c=function(e,n,r,i){return t.delegate.call(e,n,r,i),function(){t.undelegate.call(e,n,r,i)}},l=function(e,r,i,a){return a?c(e,t.trim(a),r,i):n(e,r,i)},p=t.Control=t.Construct({setup:function(){if(t.Construct.setup.apply(this,arguments),t.Control){var e,n=this;n.actions={};for(e in n.prototype)n._isAction(e)&&(n.actions[e]=n._action(e))}},_shifter:function(e,n){var i="string"==typeof n?e[n]:n;return r(i)||(i=e[i]),function(){return e.called=n,i.apply(e,[this.nodeName?t.$(this):this].concat(o.call(arguments,0)))}},_isAction:function(t){var e=this.prototype[t],n=typeof e;return"constructor"!==t&&("function"===n||"string"===n&&r(this.prototype[e]))&&!!(u[t]||d[t]||/[^\w]/.test(t))},_action:function(n,r){if(s.lastIndex=0,r||!s.test(n)){var i=r?t.sub(n,this._lookup(r)):n;if(!i)return null;var a=t.isArray(i),o=a?i[1]:i,u=o.split(/\s+/g),c=u.pop();return{processor:d[c]||e,parts:[o,u.join(" "),c],delegate:a?i[0]:void 0}}},_lookup:function(t){return[t,window]},processors:{},defaults:{}},{setup:function(e,n){var r,a=this.constructor,o=a.pluginName||a._fullName;return this.element=t.$(e),o&&"can_control"!==o&&this.element.addClass(o),r=t.data(this.element,"controls"),r||(r=[],t.data(this.element,"controls",r)),r.push(this),this.options=i({},a.defaults,n),this.on(),[this.element,this.options]},on:function(e,n,r,i){if(!e){this.off();var a,o,s=this.constructor,u=this._bindings,c=s.actions,p=this.element,d=t.Control._shifter(this,"destroy");for(a in c)c.hasOwnProperty(a)&&(o=c[a]||s._action(a,this.options,this),o&&(u.control[a]=o.processor(o.delegate||p,o.parts[2],o.parts[1],a,this)));return t.bind.call(p,"removed",d),u.user.push(function(e){t.unbind.call(e,"removed",d)}),u.user.length}return"string"==typeof e&&(i=r,r=n,n=e,
    e=this.element),void 0===i&&(i=r,r=n,n=null),"string"==typeof i&&(i=t.Control._shifter(this,i)),this._bindings.user.push(l(e,r,i,n)),this._bindings.user.length},off:function(){var t=this.element[0],e=this._bindings;e&&(a(e.user||[],function(e){e(t)}),a(e.control||{},function(e){e(t)})),this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var e,n=this.constructor,r=n.pluginName||n._fullName;this.off(),r&&"can_control"!==r&&this.element.removeClass(r),e=t.data(this.element,"controls"),e.splice(t.inArray(this,e),1),t.trigger(this,"destroyed"),this.element=null}}}),d=t.Control.processors;return e=function(e,n,r,i,a){return l(e,n,t.Control._shifter(a,i),r)},a(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed","dragstart","dragenter","dragover","dragleave","drag","drop","dragend"],function(t){d[t]=e}),p}),define("can/observe/observe",["can/util/util","can/map/map","can/list/list","can/compute/compute"],function(t){return t.Observe=t.Map,t.Observe.startBatch=t.batch.start,t.Observe.stopBatch=t.batch.stop,t.Observe.triggerBatch=t.batch.trigger,t}),define("can/view/scanner",["can/view/view","can/view/elements","can/view/callbacks/callbacks"],function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(t){return t.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("	").join("\\t")},getTag=function(t,e,n){if(t)return t;for(;n<e.length;){if("<"===e[n]&&!notEndTag.test(e[n+1]))return elements.reverseTagMap[e[n+1]]||"span";n++}return""},bracketNum=function(t){return--t.split("{").length- --t.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var t=beforeQuote.match(attrReg);return t&&t[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(t){return t[t.length-1]},Scanner;return can.view.Scanner=Scanner=function(t){can.extend(this,{text:{},tokens:[]},t),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var e,n=0;e=this.tokens[n];n++)e[2]?(this.tokenReg.push(e[2]),this.tokenComplex.push({abbr:e[1],re:new RegExp(e[2]),rescan:e[3]})):(this.tokenReg.push(e[1]),this.tokenSimple[e[1]]=e[0]),this.tokenMap[e[0]]=e[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(t,e){var n=[],r=0,i=this.tokenSimple,a=this.tokenComplex;t=t.replace(newLine,"\n"),this.transform&&(t=this.transform(t)),t.replace(this.tokenReg,function(e,o){var s=arguments[arguments.length-2];if(s>r&&n.push(t.substring(r,s)),i[e])n.push(e);else for(var u,c=0;u=a[c];c++)if(u.re.test(e)){n.push(u.abbr),u.rescan&&n.push(u.rescan(o));break}r=s+o.length}),r<t.length&&n.push(t.substr(r));var o,s,u,c,l="",p=[startTxt+(this.text.start||"")],d=function(t,e){p.push(put_cmd,'"',clean(t),'"'+(e||"")+");")},h=[],f=null,v=!1,g={attributeHookups:[],tagHookups:[],lastTagHookup:""},m=function(){g.lastTagHookup=g.tagHookups.pop()+g.tagHookups.length},b="",y=[],_=!1,w=!1,x=0,C=this.tokenMap;for(htmlTag=quote=beforeQuote=null;void 0!==(u=n[x++]);){if(null===f)switch(u){case C.left:case C.escapeLeft:case C.returnLeft:v=htmlTag&&1;case C.commentLeft:f=u,l.length&&d(l),l="";break;case C.escapeFull:v=htmlTag&&1,rescan=1,f=C.escapeLeft,l.length&&d(l),rescan=n[x++],l=rescan.content||rescan,rescan.before&&d(rescan.before),n.splice(x,0,C.right);break;case C.commentFull:break;case C.templateLeft:l+=C.left;break;case"<":0!==n[x].indexOf("!--")&&(htmlTag=1,v=0),l+=u;break;case">":htmlTag=0;var k="/"===l.substr(l.length-1)||"--"===l.substr(l.length-2),A="";if(g.attributeHookups.length&&(A="attrs: ['"+g.attributeHookups.join("','")+"'], ",g.attributeHookups=[]),b+g.tagHookups.length!==g.lastTagHookup&&b===top(g.tagHookups))k&&(l=l.substr(0,l.length-1)),p.push(put_cmd,'"',clean(l),'"',",can.view.pending({tagName:'"+b+"',"+A+"scope: "+(this.text.scope||"this")+this.text.options),k?(p.push("}));"),l="/>",m()):"<"===n[x]&&n[x+1]==="/"+b?(p.push("}));"),l=u,m()):(p.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),l="");else if(v||!_&&elements.tagToContentPropMap[y[y.length-1]]||A){var M=",can.view.pending({"+A+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';k?d(l.substr(0,l.length-1),M+'/>"'):d(l,M+'>"'),l="",v=0}else l+=u;(k||_)&&(y.pop(),b=y[y.length-1],_=!1),g.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===u){quote=null;var N=getAttrName();if(viewCallbacks.attr(N)&&g.attributeHookups.push(N),w){l+=u,d(l),p.push(finishTxt,"}));\n"),l="",w=!1;break}}else if(null===quote&&(quote=u,beforeQuote=o,c=getAttrName(),"img"===b&&"src"===c||"style"===c)){d(l.replace(attrReg,"")),l="",w=!0,p.push(insert_cmd,"can.view.txt(2,'"+getTag(b,n,x)+"',"+status()+",this,function(){",startTxt),d(c+"="+u);break}default:if("<"===o){b="!--"===u.substr(0,3)?"!--":u.split(/\s/)[0];var T,O=!1;0===b.indexOf("/")&&(O=!0,T=b.substr(1)),O?(top(y)===T&&(b=T,_=!0),top(g.tagHookups)===T&&(d(l.substr(0,l.length-1)),p.push(finishTxt+"}}) );"),l="><",m())):(b.lastIndexOf("/")===b.length-1&&(b=b.substr(0,b.length-1)),"!--"!==b&&viewCallbacks.tag(b)&&("content"===b&&elements.tagMap[top(y)]&&(u=u.replace("content",elements.tagMap[top(y)])),g.tagHookups.push(b)),y.push(b))}l+=u}else switch(u){case C.right:case C.returnRight:switch(f){case C.left:s=bracketNum(l),1===s?(p.push(insert_cmd,"can.view.txt(0,'"+getTag(b,n,x)+"',"+status()+",this,function(){",startTxt,l),h.push({before:"",after:finishTxt+"}));\n"})):(r=h.length&&-1===s?h.pop():{after:";"},r.before&&p.push(r.before),p.push(l,";",r.after));break;case C.escapeLeft:case C.returnLeft:s=bracketNum(l),s&&h.push({before:finishTxt,after:"}));\n"});for(var L=f===C.escapeLeft?1:0,S={insert:insert_cmd,tagName:getTag(b,n,x),status:status(),specialAttribute:w},E=0;E<this.helpers.length;E++){var j=this.helpers[E];if(j.name.test(l)){l=j.fn(l,S),j.name.source===/^>[\s]*\w*/.source&&(L=0);break}}"object"==typeof l?l.startTxt&&l.end&&w?p.push(insert_cmd,"can.view.toStr( ",l.content,"() ) );"):(l.startTxt?p.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=l.escaped?l.escaped:L))+",\n'"+b+"',\n"+status()+",\nthis,\n"):l.startOnlyTxt&&p.push(insert_cmd,"can.view.onlytxt(this,\n"),p.push(l.content),l.end&&p.push("));")):w?p.push(insert_cmd,l,");"):p.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||L)+",\n'"+b+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",l,s?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(d(rescan.after.length),rescan=null)}f=null,l="";break;case C.templateLeft:l+=C.left;break;default:l+=u}o=u}l.length&&d(l),p.push(";");var R=p.join(""),P={out:(this.text.outStart||"")+R+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(P,"this.fn = (function("+this.text.argNames+"){"+P.out+"});\r\n//# sourceURL="+e+".js"),P}},can.view.pending=function(t){var e=can.view.getHooks();return can.view.hook(function(n){can.each(e,function(t){t(n)}),t.templateType="legacy",t.tagName&&viewCallbacks.tagHandler(n,t.tagName,t),can.each(t&&t.attrs||[],function(e){t.attributeName=e;var r=viewCallbacks.attr(e);r&&r(n,t)})})},can.view.tag("content",function(t,e){return e.scope}),can.view.Scanner=Scanner,Scanner}),define("can/view/render",["can/view/view","can/view/elements","can/view/live/live","can/util/string/string"],function(t,e,n){var r,i=[],a=function(t){var n=e.tagMap[t]||"span";return"span"===n?"@@!!@@":"<"+n+">"+a(n)+"</"+n+">"},o=function(e,n){if("string"==typeof e)return e;if(!e&&0!==e)return"";var r=e.hookup&&function(t,n){e.hookup.call(e,t,n)}||"function"==typeof e&&e;return r?n?"<"+n+" "+t.view.hook(r)+"></"+n+">":(i.push(r),""):""+e},s=function(e,n){return"string"==typeof e||"number"==typeof e?t.esc(e):o(e,n)},u=!1,c=function(){};return t.extend(t.view,{live:n,setupLists:function(){var e,n=t.view.lists;return t.view.lists=function(t,n){return e={list:t,renderer:n},Math.random()},function(){return t.view.lists=n,e}},getHooks:function(){var t=i.slice(0);return r=t,i=[],t},onlytxt:function(t,e){return s(e.call(t))},txt:function(l,p,d,h,f){var v,g,m,b,y=e.tagMap[p]||"span",_=!1,w=c;if(u)v=f.call(h);else{("string"==typeof d||1===d)&&(u=!0);var x=t.view.setupLists();w=function(){m.unbind("change",c)},m=t.compute(f,h,!1),m.bind("change",c),g=x(),v=m(),u=!1,_=m.computeInstance.hasDependencies}if(g)return w(),"<"+y+t.view.hook(function(t,e){n.list(t,g.list,g.renderer,h,e)})+"></"+y+">";if(!_||"function"==typeof v)return w(),(u||2===l||!l?o:s)(v,0===d&&y);var C=e.tagToContentPropMap[p];if(0!==d||C)return 1===d?(i.push(function(t){n.attributes(t,m,m()),w()}),m()):2===l?(b=d,i.push(function(t){n.specialAttribute(t,b,m),w()}),m()):(b=0===d?C:d,(0===d?r:i).push(function(t){n.attribute(t,b,m),w()}),n.attributePlaceholder);var k=!!e.selfClosingTags[y];return"<"+y+t.view.hook(l&&"object"!=typeof v?function(t,e){n.text(t,m,e),w()}:function(t,e){n.html(t,m,e),w()})+(k?"/>":">"+a(y)+"</"+y+">")}}),t}),define("can/view/mustache/mustache",["can/util/util","can/view/scope/scope","can/view/view","can/view/scanner","can/compute/compute","can/view/render","can/view/bindings/bindings"],function(t){t.view.ext=".mustache";var e="scope",n="___h4sh",r="{scope:"+e+",options:options}",i="{scope:"+e+",options:options, special: true}",a=e+",options",o=/((([^'"\s]+?=)?('.*?'|".*?"))|.*?)\s/g,s=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,u=function(t){return'{get:"'+t.replace(/"/g,'\\"')+'"}'},c=function(t){return t&&"string"==typeof t.get},l=function(e){return e instanceof t.Map||e&&!!e._get},p=function(t){return t&&t.splice&&"number"==typeof t.length},d=function(e,n,r){var i=function(t,r){return e(t||n,r)};return function(e,a){return void 0===e||e instanceof t.view.Scope||(e=n.add(e)),void 0===a||a instanceof t.view.Options||(a=r.add(a)),i(e,a||r)}},h=function(e,n){if(this.constructor!==h){var r=new h(e);return function(t,e){return r.render(t,e)}}return"function"==typeof e?void(this.template={fn:e}):(t.extend(this,e),void(this.template=this.scanner.scan(this.text,this.name)))};t.Mustache=t.global.Mustache=h,h.prototype.render=function(e,n){return e instanceof t.view.Scope||(e=new t.view.Scope(e||{})),n instanceof t.view.Options||(n=new t.view.Options(n||{})),n=n||{},this.template.fn.call(e,e,n)},t.extend(h.prototype,{scanner:new t.view.Scanner({text:{start:"",scope:e,options:",options: options",argNames:a},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(t){return{before:/^\n.+?\n$/.test(t)?"\n":"",content:t.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(e,n){var r=t.trim(e.replace(/^>\s?/,"")).replace(/["|']/g,"");return"can.Mustache.renderPartial('"+r+"',"+a+")"}},{name:/^\s*data\s/,fn:function(t,n){var r=t.match(/["|'](.*)["|']/)[1];return"can.proxy(function(__){can.data(can.$(__),'"+r+"', this.attr('.')); }, "+e+")"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(t){var n=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,r=t.match(n);return"can.proxy(function(__){var "+r[1]+"=can.$(__);with("+e+".attr('.')){"+r[2]+"}}, this);"}},{name:/^.*$/,fn:function(e,c){var l=!1,p={content:"",startTxt:!1,startOnlyTxt:!1,end:!1};if(e=t.trim(e),e.length&&(l=e.match(/^([#^\/]|else$)/))){switch(l=l[0]){case"#":case"^":c.specialAttribute?p.startOnlyTxt=!0:(p.startTxt=!0,p.escaped=0);break;case"/":return p.end=!0,p.content+='return ___v1ew.join("");}}])',p}e=e.substring(1)}if("else"!==l){var d,h=[],f=[],v=0;p.content+="can.Mustache.txt(\n"+(c.specialAttribute?i:r)+",\n"+(l?'"'+l+'"':"null")+",",(t.trim(e)+" ").replace(o,function(t,e){v&&(d=e.match(s))?d[2]?h.push(d[0]):f.push(d[4]+":"+(d[6]?d[6]:u(d[5]))):h.push(u(e)),v++}),p.content+=h.join(","),f.length&&(p.content+=",{"+n+":{"+f.join(",")+"}}")}switch(l&&"else"!==l&&(p.content+=",[\n\n"),l){case"^":case"#":p.content+="{fn:function("+a+"){var ___v1ew = [];";break;case"else":p.content+='return ___v1ew.join("");}},\n{inverse:function('+a+"){\nvar ___v1ew = [];";break;default:p.content+=")"}return l||(p.startTxt=!0,p.end=!0),p}}]})});for(var f=t.view.Scanner.prototype.helpers,v=0;v<f.length;v++)h.prototype.scanner.helpers.unshift(f[v]);return h.txt=function(e,r,i){for(var a,o,s=e.scope,u=e.options,f=[],v={fn:function(){},inverse:function(){}},g=s.attr("."),m=!0,b=3;b<arguments.length;b++){var y=arguments[b];if(r&&t.isArray(y))v=t.extend.apply(t,[v].concat(y));else if(y&&y[n]){a=y[n];for(var _ in a)c(a[_])&&(a[_]=h.get(a[_].get,e,!1,!0))}else y&&c(y)?f.push(h.get(y.get,e,!1,!0,!0)):f.push(y)}if(c(i)){var w=i.get;i=h.get(i.get,e,f.length,!1),m=w===i}if(v.fn=d(v.fn,s,u),v.inverse=d(v.inverse,s,u),"^"===r){var x=v.fn;v.fn=v.inverse,v.inverse=x}return(o=m&&"string"==typeof i&&h.getHelper(i,u)||t.isFunction(i)&&!i.isComputed&&{fn:i})?(t.extend(v,{context:g,scope:s,contexts:s,hash:a}),f.push(v),function(){var t=o.fn.apply(g,f);return null==t?"":t}):function(){var e;e=t.isFunction(i)&&i.isComputed?i():i;var n,a,o,s=f.length?f:[e],u=!0,c=[];if(r)for(n=0;n<s.length;n++)o=s[n],a="undefined"!=typeof o&&l(o),p(o)?"#"===r?u=u&&!!(a?o.attr("length"):o.length):"^"===r&&(u=u&&!(a?o.attr("length"):o.length)):u="#"===r?u&&!!o:"^"===r?u&&!o:u;if(u){if("#"===r){if(p(e)){var d=l(e);for(n=0;n<e.length;n++)c.push(v.fn(d?e.attr(""+n):e[n]));return c.join("")}return v.fn(e||{})||""}return"^"===r?v.inverse(e||{})||"":""+(null!=e?e:"")}return""}},h.get=function(e,n,r,i,a){var o=n.scope.attr("."),s=n.options||{};if(r){if(h.getHelper(e,s))return e;if(n.scope&&t.isFunction(o[e]))return o[e]}var u=n.scope.computeData(e,{isArgument:i,args:[o,n.scope]}),c=u.compute;t.compute.temporarilyBind(c);var l=u.initialValue;return h.getHelper(e,s),a||void 0!==l&&u.scope===n.scope||!h.getHelper(e,s)?c.computeInstance.hasDependencies?c:l:e},h.resolve=function(e){return l(e)&&p(e)&&e.attr("length")?e:t.isFunction(e)?e():e},h._helpers={},h.registerHelper=function(t,e){this._helpers[t]={name:t,fn:e}},h.registerSimpleHelper=function(e,n){h.registerHelper(e,t.view.simpleHelper(n))},h.getHelper=function(t,e){var n;return e&&(n=e.get("helpers."+t,{proxyMethods:!1})),n?{fn:n}:this._helpers[t]},h.render=function(e,n,r){return t.view.cached[e]||t.__notObserve(function(){var t=n.attr(e);t&&(e=t)})(),t.view.render(e,n,r)},h.safeString=function(t){return{toString:function(){return t}}},h.renderPartial=function(e,n,r){var i=r.get("partials."+e,{proxyMethods:!1});return i?i.render?i.render(n,r):i(n,r):t.Mustache.render(e,n,r)},t.each({"if":function(e,n){var r;return r=t.isFunction(e)?t.compute.truthy(e)():!!h.resolve(e),r?n.fn(n.contexts||this):n.inverse(n.contexts||this)},is:function(){var e,n,r=arguments[arguments.length-1];if(arguments.length-2<=0)return r.inverse();for(var i=0;i<arguments.length-1;i++){if(n=h.resolve(arguments[i]),n=t.isFunction(n)?n():n,i>0&&n!==e)return r.inverse();e=n}return r.fn()},eq:function(){return h._helpers.is.fn.apply(this,arguments)},unless:function(e,n){return h._helpers["if"].fn.apply(this,[e,t.extend({},n,{fn:n.inverse,inverse:n.fn})])},each:function(e,n){var r,i,a,o=h.resolve(e),s=[];if(t.view.lists&&(o instanceof t.List||e&&e.isComputed&&void 0===o))return t.view.lists(e,function(t,e){return n.fn(n.scope.add({"@index":e}).add(t))});if(e=o,e&&p(e)){for(a=0;a<e.length;a++)s.push(n.fn(n.scope.add({"@index":a}).add(e[a])));return s.join("")}if(l(e)){for(r=t.Map.keys(e),a=0;a<r.length;a++)i=r[a],s.push(n.fn(n.scope.add({"@key":i}).add(e[i])));return s.join("")}if(e instanceof Object){for(i in e)s.push(n.fn(n.scope.add({"@key":i}).add(e[i])));return s.join("")}},"with":function(t,e){var n=t;return t=h.resolve(t),t?e.fn(n):void 0},log:function(t,e){"undefined"!=typeof console&&console.log&&(e?console.log(t,e.context):console.log(t.context))},"@index":function(e,n){n||(n=e,e=0);var r=n.scope.read("@index",{isArgument:!0}).value;return""+((t.isFunction(r)?r():r)+e)}},function(t,e){h.registerHelper(e,t)}),t.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(t,e){return"can.Mustache(function("+a+") { "+new h({text:e,name:t}).template.out+" })"},renderer:function(t,e){return h({text:e,name:t})}}),t.mustache.registerHelper=t.proxy(t.Mustache.registerHelper,t.Mustache),t.mustache.safeString=t.Mustache.safeString,t}),define("can/util/view_model/view_model",["can/util/util"],function(t){var e=t.$;e.fn&&(e.fn.scope=e.fn.viewModel=function(){return t.viewModel.apply(t,[this].concat(t.makeArray(arguments)))})}),define("can/component/component",["can/util/util","can/view/callbacks/callbacks","can/view/elements","can/view/bindings/bindings","can/control/control","can/observe/observe","can/view/mustache/mustache","can/util/view_model/view_model"],function(t,e,n,r){var i=/\{([^\}]+)\}/g,a=t.Component=t.Construct.extend({setup:function(){if(t.Construct.setup.apply(this,arguments),t.Component){var e=this,n=this.prototype.scope||this.prototype.viewModel;if(this.Control=o.extend(this.prototype.events),n&&("object"!=typeof n||n instanceof t.Map)?n.prototype instanceof t.Map&&(this.Map=n):this.Map=t.Map.extend(n||{}),this.attributeScopeMappings={},t.each(this.Map?this.Map.defaults:{},function(t,n){"@"===t&&(e.attributeScopeMappings[n]=n)}),this.prototype.template)if("function"==typeof this.prototype.template){var r=this.prototype.template;this.renderer=function(){return t.view.frag(r.apply(null,arguments))}}else this.renderer=t.view.mustache(this.prototype.template);t.view.tag(this.prototype.tag,function(t,n){new e(t,n)})}}},{setup:function(e,i){var a,o,s={},u=this,c=("undefined"==typeof this.leakScope?!1:!this.leakScope)&&!!this.template,l=[],p=function(){for(var t=0,e=l.length;e>t;t++)l[t]()},d=t.$(e),h=!t.data(d,"preventDataBindings");t.each(this.constructor.attributeScopeMappings,function(n,r){s[r]=e.getAttribute(t.hyphenate(n))}),h&&l.push(r.behaviors.viewModel(e,i,function(n){n["%root"]=i.scope.attr("%root");var r=u.scope||u.viewModel;if(u.constructor.Map)a=new u.constructor.Map(n);else if(r instanceof t.Map)a=r;else if(t.isFunction(r)){var o=r.call(u,n,i.scope,e);a=o instanceof t.Map?o:o.prototype instanceof t.Map?new o(n):new(t.Map.extend(o))(n)}var s=a.serialize;return a.serialize=function(){var t=s.apply(this,arguments);return delete t["%root"],t},a},s)),this.scope=this.viewModel=a,t.data(d,"scope",this.viewModel),t.data(d,"viewModel",this.viewModel),t.data(d,"preventDataBindings",!0);var f;f=c?t.view.Scope.refsScope().add(this.viewModel,{viewModel:!0}):(this.constructor.renderer?i.scope.add(new t.view.Scope.Refs):i.scope).add(this.viewModel,{viewModel:!0});var v={helpers:{}},g=function(t,e){v.helpers[t]=function(){return e.apply(a,arguments)}};t.each(this.helpers||{},function(e,n){t.isFunction(e)&&g(n,e)}),t.each(this.simpleHelpers||{},function(e,n){g(n,t.view.simpleHelper(e))}),this._control=new this.constructor.Control(e,{scope:this.viewModel,viewModel:this.viewModel,destroy:p});var m=t.view.nodeLists.register([],void 0,i.parentNodeList||!0,!1);m.expression="<"+this.tag+">",l.push(function(){t.view.nodeLists.unregister(m)}),this.constructor.renderer?(v.tags||(v.tags={}),v.tags.content=function b(e,r){var a=i.subtemplate||r.subtemplate,o=a===i.subtemplate;if(a){delete v.tags.content;var s;if(s=o?c?i:{scope:r.scope.cloneFromRef(),options:r.options}:r,r.parentNodeList){var u=a(s.scope,s.options,r.parentNodeList);n.replace([e],u)}else t.view.live.replace([e],a(s.scope,s.options));v.tags.content=b}},o=this.constructor.renderer(f,i.options.add(v),m)):o="legacy"===i.templateType?t.view.frag(i.subtemplate?i.subtemplate(f,i.options.add(v)):""):i.subtemplate?i.subtemplate(f,i.options.add(v),m):document.createDocumentFragment(),t.appendChild(e,o,t.document),t.view.nodeLists.update(m,t.childNodes(e))}}),o=t.Control.extend({_lookup:function(t){return[t.scope,t,window]},_action:function(e,n,r){var a,o;if(i.lastIndex=0,a=i.test(e),r||!a){if(a){o=t.compute(function(){var r,a=e.replace(i,function(e,i){var a;return"scope"===i||"viewModel"===i?(r=n.viewModel,""):(i=i.replace(/^(scope|^viewModel)\./,""),a=t.compute.read(n.viewModel,t.compute.read.reads(i),{readCompute:!1}).value,void 0===a&&(a=t.getObject(i)),"string"==typeof a?a:(r=a,""))}),o=a.split(/\s+/g),s=o.pop();return{processor:this.processors[s]||this.processors.click,parts:[a,o.join(" "),s],delegate:r||void 0}},this);var s=function(t,n){r._bindings.control[e](r.element),r._bindings.control[e]=n.processor(n.delegate||r.element,n.parts[2],n.parts[1],e,r)};return o.bind("change",s),r._bindings.readyComputes[e]={compute:o,handler:s},o()}return t.Control._action.apply(this,arguments)}}},{setup:function(e,n){return this.scope=n.scope,this.viewModel=n.viewModel,t.Control.prototype.setup.call(this,e,n)},off:function(){this._bindings&&t.each(this._bindings.readyComputes||{},function(t){t.compute.unbind("change",t.handler)}),t.Control.prototype.off.apply(this,arguments),this._bindings.readyComputes={}},destroy:function(){t.Control.prototype.destroy.apply(this,arguments),"function"==typeof this.options.destroy&&this.options.destroy.apply(this,arguments)}}),s=t.$;return s.fn&&(s.fn.scope=s.fn.viewModel=function(){return t.viewModel.apply(t,[this].concat(t.makeArray(arguments)))}),a}),define("can/model/model",["can/util/util","can/map/map","can/list/list"],function(t){var e=function(e,n,r){var i=new t.Deferred;return e.then(function(){var e=t.makeArray(arguments),a=!0;try{e[0]=r.apply(n,e)}catch(o){a=!1,i.rejectWith(i,[o].concat(e))}a&&i.resolveWith(i,e)},function(){i.rejectWith(this,arguments)}),"function"==typeof e.abort&&(i.abort=function(){return e.abort()}),i},n=0,r=function(e){return t.__observe(e,e.constructor.id),e.___get(e.constructor.id)},i=function(e,n,r,i,a,o){var s={};if("string"==typeof e){var u=e.split(/\s+/);s.url=u.pop(),u.length&&(s.type=u.pop())}else t.extend(s,e);return s.data="object"!=typeof n||t.isArray(n)?n:t.extend(s.data||{},n),s.url=t.sub(s.url,s.data,!0),t.ajax(t.extend({type:r||"post",dataType:i||"json",success:a,error:o},s))},a=function(n,i,a,o,s){var u;t.isArray(n)?(u=n[1],n=n[0]):u=n.serialize(),u=[u];var c,l,p=n.constructor;return("update"===i||"destroy"===i)&&u.unshift(r(n)),l=p[i].apply(p,u),c=e(l,n,function(t){return n[s||i+"d"](t,l),n}),l.abort&&(c.abort=function(){l.abort()}),c.then(a,o),c},o={models:function(e,n,r){if(t.Model._reqs++,e){if(e instanceof this.List)return e;var i=this,a=[],o=i.List||f,s=n instanceof t.List?n:new o,u=e instanceof f,c=u?e.serialize():e;if(c=i.parseModels(c,r),c.data&&(e=c,c=c.data),"undefined"==typeof c||!t.isArray(c))throw new Error("Could not get any raw data while converting using .models");return s.length&&s.splice(0),t.each(c,function(t){a.push(i.model(t,r))}),s.push.apply(s,a),t.isArray(e)||t.each(e,function(t,e){"data"!==e&&s.attr(e,t)}),setTimeout(t.proxy(this._clean,this),1),s}},model:function(e,n,r){if(e){e="function"==typeof e.serialize?e.serialize():this.parseModel(e,r);var i=e[this.id];(i||0===i)&&this.store[i]&&(n=this.store[i]);var a=n&&t.isFunction(n.attr)?n.attr(e,this.removeAttr||!1):new this(e);return a}}},s={parseModel:function(e){return function(n){return e?t.getObject(e,n):n}},parseModels:function(e){return function(n){if(t.isArray(n))return n;e=e||"data";var r=t.getObject(e,n);if(!t.isArray(r))throw new Error("Could not get any raw data while converting using .models");return r}}},u={create:{url:"_shortName",type:"post"},update:{data:function(e,n){n=n||{};var r=this.id;return n[r]&&n[r]!==e&&(n["new"+t.capitalize(e)]=n[r],delete n[r]),n[r]=e,n},type:"put"},destroy:{type:"delete",data:function(t,e){return e=e||{},e.id=e[this.id]=t,e}},findAll:{url:"_shortName"},findOne:{}},c=function(t,e){return function(n){return n=t.data?t.data.apply(this,arguments):n,i(e||this[t.url||"_url"],n,t.type||"get")}},l=function(t,e){if(t.resource){var n=t.resource.replace(/\/+$/,"");return"findAll"===e||"create"===e?n:n+"/{"+t.id+"}"}};t.Model=t.Map.extend({fullName:"can.Model",_reqs:0,setup:function(e,r,i,a){if("string"!=typeof r&&(a=i,i=r),a||(a=i),this.store={},t.Map.setup.apply(this,arguments),t.Model){i&&i.List?(this.List=i.List,this.List.Map=this):this.List=e.List.extend({Map:this},{});var p=this,d=t.proxy(this._clean,p);t.each(u,function(n,r){if(i&&i[r]&&("string"==typeof i[r]||"object"==typeof i[r])?p[r]=c(n,i[r]):i&&i.resource&&!t.isFunction(i[r])&&(p[r]=c(n,l(p,r))),p["make"+t.capitalize(r)]){var a=p["make"+t.capitalize(r)](p[r]);t.Construct._overwrite(p,e,r,function(){t.Model._reqs++;var e=a.apply(this,arguments),n=e.then(d,d);return n.abort=e.abort,n})}});var h={};t.each(o,function(n,r){var a="parse"+t.capitalize(r),o=i&&i[r]||p[r];"string"==typeof o?(p[a]=o,t.Construct._overwrite(p,e,r,n)):i&&i[r]&&(h[a]=!0)}),t.each(s,function(n,r){var a=i&&i[r]||p[r];if("string"==typeof a)t.Construct._overwrite(p,e,r,n(a));else if(!(i&&t.isFunction(i[r])||p[r])){var o=n();o.useModelConverter=h[r],t.Construct._overwrite(p,e,r,o)}}),"can.Model"!==p.fullName&&p.fullName||(p.fullName="Model"+ ++n),t.Model._reqs=0,this._url=this._shortName+"/{"+this.id+"}"}},_ajax:c,_makeRequest:a,_clean:function(){if(t.Model._reqs--,!t.Model._reqs)for(var e in this.store)this.store[e]._bindings||delete this.store[e];return arguments[0]},models:o.models,model:o.model},{setup:function(e){var n=e&&e[this.constructor.id];t.Model._reqs&&null!=n&&(this.constructor.store[n]=this),t.Map.prototype.setup.apply(this,arguments)},isNew:function(){var t=r(this);return!(t||0===t)},save:function(t,e){return a(this,this.isNew()?"create":"update",t,e)},destroy:function(e,n){if(this.isNew()){var r=this,i=t.Deferred();return i.then(e,n),i.done(function(t){r.destroyed(t)}).resolve(r)}return a(this,"destroy",e,n,"destroyed")},_bindsetup:function(){var e=this.___get(this.constructor.id);return null!=e&&(this.constructor.store[e]=this),t.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){return delete this.constructor.store[r(this)],t.Map.prototype._bindteardown.apply(this,arguments)},___set:function(e,n){t.Map.prototype.___set.call(this,e,n),e===this.constructor.id&&this._bindings&&(this.constructor.store[r(this)]=this)}});var p=function(t){return function(e,n,r){return this[t](e,null,r)}},d=function(t){return this.parseModel.useModelConverter?this.model(t):this.parseModel(t)},h={makeFindAll:p("models"),makeFindOne:p("model"),makeCreate:d,makeUpdate:d,makeDestroy:d};t.each(h,function(n,r){t.Model[r]=function(r){return function(){var i=t.makeArray(arguments),a=t.isFunction(i[1])?i.splice(0,1):i.splice(0,2),o=e(r.apply(this,a),this,n);return o.then(i[0],i[1]),o}}}),t.each(["created","updated","destroyed"],function(e){t.Model.prototype[e]=function(n){var r=this,i=r.constructor;n&&"object"==typeof n&&this.attr(t.isFunction(n.attr)?n.attr():n),t.dispatch.call(this,{type:e,target:this},[]),t.dispatch.call(i,e,[this])}});var f=t.Model.List=t.List.extend({_bubbleRule:function(e,n){var r=t.List._bubbleRule(e,n);return r.push("destroyed"),r}},{setup:function(e){t.isPlainObject(e)&&!t.isArray(e)?(t.List.prototype.setup.apply(this),this.replace(t.isPromise(e)?e:this.constructor.Map.findAll(e))):t.List.prototype.setup.apply(this,arguments),this.bind("destroyed",t.proxy(this._destroyed,this))},_destroyed:function(t,e){if(/\w+/.test(e))for(var n;(n=this.indexOf(t.target))>-1;)this.splice(n,1)}});return t.Model}),define("can/util/string/deparam/deparam",["can/util/util","can/util/string/string"],function(t){var e=/^\d+$/,n=/([^\[\]]+)|(\[\])/g,r=/([^?#]*)(#.*)?$/,i=function(t){return decodeURIComponent(t.replace(/\+/g," "))};return t.extend(t,{deparam:function(a){var o,s,u={};return a&&r.test(a)&&(o=a.split("&"),t.each(o,function(t){var r=t.split("="),a=i(r.shift()),o=i(r.join("=")),c=u;if(a){r=a.match(n);for(var l=0,p=r.length-1;p>l;l++)c[r[l]]||(c[r[l]]=e.test(r[l+1])||"[]"===r[l+1]?[]:{}),c=c[r[l]];s=r.pop(),"[]"===s?c.push(o):c[s]=o}})),u}}),t}),define("can/route/route",["can/util/util","can/map/map","can/list/list","can/util/string/deparam/deparam"],function(t){var e,n,r,i,a=/\:([\w\.]+)/g,o=/^(?:&[^=]+=[^&]*)+/,s=function(e){var n=[];return t.each(e,function(e,r){n.push(("className"===r?"class":r)+'="'+("href"===r?e:t.esc(e))+'"')}),n.join(" ")},u=function(t,e){var n=0,r=0,i={};for(var a in t.defaults)t.defaults[a]===e[a]&&(i[a]=1,n++);for(;r<t.names.length;r++){if(!e.hasOwnProperty(t.names[r]))return-1;i[t.names[r]]||n++}return n},c=window.location,l=function(t){return(t+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},p=t.each,d=t.extend,h=function(e){return e&&"object"==typeof e?(e=e instanceof t.Map?e:t.isFunction(e.slice)?e.slice():t.extend({},e),t.each(e,function(t,n){e[n]=h(t)})):void 0!==e&&null!==e&&t.isFunction(e.toString)&&(e=e.toString()),e},f=function(t){return t.replace(/\\/g,"")},v=[],g=function(n,a,o,s){i=1,v.push(a),clearTimeout(e),e=setTimeout(function(){i=0;var e=t.route.data.serialize(),n=t.route.param(e,!0);t.route._call("setURL",n,v),t.batch.trigger(m,"__url",[n,r]),r=n,v=[]},10)},m=t.extend({},t.event),b=function(t){var e=t.attr;return t.attr=function(t,n){var r,i=void 0===this.define||void 0===this.define[t]||!!this.define[t].serialize;return r=i?h(Array.apply(null,arguments)):arguments,e.apply(this,r)},t};t.route=function(e,n){var r=t.route._call("root");r.lastIndexOf("/")===r.length-1&&0===e.indexOf("/")&&(e=e.substr(1)),n=n||{};for(var i,o,s=[],u="",c=a.lastIndex=0,p=t.route._call("querySeparator"),d=t.route._call("matchSlashes");i=a.exec(e);)s.push(i[1]),u+=f(e.substring(c,a.lastIndex-i[0].length)),o="\\"+(f(e.substr(a.lastIndex,1))||p+(d?"":"|/")),u+="([^"+o+"]"+(n[i[1]]?"*":"+")+")",c=a.lastIndex;return u+=e.substr(c).replace("\\",""),t.route.routes[e]={test:new RegExp("^"+u+"($|"+l(p)+")"),route:e,names:s,defaults:n,length:e.split("/").length},t.route},d(t.route,{param:function(e,n){var r,i,o=0,s=e.route,c=0;if(delete e.route,p(e,function(){c++}),p(t.route.routes,function(t,n){return i=u(t,e),i>o&&(r=t,o=i),i>=c?!1:void 0}),t.route.routes[s]&&u(t.route.routes[s],e)===o&&(r=t.route.routes[s]),r){var l,h=d({},e),f=r.route.replace(a,function(t,n){return delete h[n],e[n]===r.defaults[n]?"":encodeURIComponent(e[n])}).replace("\\","");return p(r.defaults,function(t,e){h[e]===t&&delete h[e]}),l=t.param(h),n&&t.route.attr("route",r.route),f+(l?t.route._call("querySeparator")+l:"")}return t.isEmptyObject(e)?"":t.route._call("querySeparator")+t.param(e)},deparam:function(e){var n=t.route._call("root");n.lastIndexOf("/")===n.length-1&&0===e.indexOf("/")&&(e=e.substr(1));var r={length:-1},i=t.route._call("querySeparator"),a=t.route._call("paramsMatcher");if(p(t.route.routes,function(t,n){t.test.test(e)&&t.length>r.length&&(r=t)}),r.length>-1){var o=e.match(r.test),s=o.shift(),u=e.substr(s.length-(o[o.length-1]===i?1:0)),c=u&&a.test(u)?t.deparam(u.slice(1)):{};return c=d(!0,{},r.defaults,c),p(o,function(t,e){t&&t!==i&&(c[r.names[e]]=decodeURIComponent(t))}),c.route=r.route,c}return e.charAt(0)!==i&&(e=i+e),a.test(e)?t.deparam(e.slice(1)):{}},data:b(new t.Map({})),map:function(e){var n;n=e.prototype instanceof t.Map?new e:e,t.route.data=b(n)},routes:{},ready:function(e){return e!==!0&&(t.route._setup(),(t.isBrowserWindow||t.isWebWorker)&&t.route.setState()),t.route},url:function(e,n){return n&&(t.__observe(m,"__url"),e=t.extend({},t.route.deparam(t.route._call("matchingPartOfURL")),e)),t.route._call("root")+t.route.param(e)},link:function(e,n,r,i){
    return"<a "+s(d({href:t.route.url(n,i)},r))+">"+e+"</a>"},current:function(e){return t.__observe(m,"__url"),this._call("matchingPartOfURL")===t.route.param(e)},bindings:{hashchange:{paramsMatcher:o,querySeparator:"&",matchSlashes:!1,bind:function(){t.bind.call(window,"hashchange",y)},unbind:function(){t.unbind.call(window,"hashchange",y)},matchingPartOfURL:function(){var e=t.route.location||c;return e.href.split(/#!?/)[1]||""},setURL:function(t){return c.hash!=="#"+t&&(c.hash="!"+t),t},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){t.route.currentBinding||(t.route._call("bind"),t.route.bind("change",g),t.route.currentBinding=t.route.defaultBinding)},_teardown:function(){t.route.currentBinding&&(t.route._call("unbind"),t.route.unbind("change",g),t.route.currentBinding=null),clearTimeout(e),i=0},_call:function(){var e=t.makeArray(arguments),n=e.shift(),r=t.route.bindings[t.route.currentBinding||t.route.defaultBinding],i=r[n];return i.apply?i.apply(r,e):i}}),p(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","___get","each"],function(e){t.route[e]=function(){return t.route.data[e]?t.route.data[e].apply(t.route.data,arguments):void 0}}),t.route.attr=function(){return t.route.data.attr.apply(t.route.data,arguments)},t.route.batch=t.batch;var y=t.route.setState=function(){var e=t.route._call("matchingPartOfURL"),a=n;n=t.route.deparam(e),i&&e===r||(t.route.batch.start(),_(a,n,t.route.data),t.route.attr(n),t.route.batch.trigger(m,"__url",[e,r]),t.route.batch.stop())},_=function(t,e,n){for(var r in t)void 0===e[r]?n.removeAttr(r):"[object Object]"===Object.prototype.toString.call(t[r])&&_(t[r],e[r],n.attr(r))};return t.route}),define("can/control/route/route",["can/util/util","can/route/route","can/control/control"],function(t){return t.Control.processors.route=function(e,n,r,i,a){r=r||"",t.route.routes[r]||("/"===r[0]&&(r=r.substring(1)),t.route(r));var o,s=function(e,n,s){if(t.route.attr("route")===r&&(void 0===e.batchNum||e.batchNum!==o)){o=e.batchNum;var u=t.route.attr();delete u.route,t.isFunction(a[i])?a[i](u):a[a[i]](u)}};return t.route.bind("change",s),function(){t.route.unbind("change",s)}},t}),!function(){window._define=window.define,window.define=window.define.orig}();