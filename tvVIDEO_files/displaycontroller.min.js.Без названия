function DisplayController(s,e,i){function o(o,n){l(),s.data(DATA_HASACTIVEHOVER)?a():o?(n&&s.data(DATA_FORCEDOPEN,!0),u(),i.showTip(s)):(session.tipOpenImminent=!0,c=setTimeout(function(){c=null,t()},e.intentPollInterval))}function n(o){T&&(T=session.closeDelayTimeout=clearTimeout(T),session.delayInProgress=!1),l(),session.tipOpenImminent=!1,s.data(DATA_HASACTIVEHOVER)&&(s.data(DATA_FORCEDOPEN,!1),o?i.hideTip(s):(session.delayInProgress=!0,session.closeDelayTimeout=setTimeout(function(){session.closeDelayTimeout=null,i.hideTip(s),session.delayInProgress=!1,T=null},e.closeDelay),T=session.closeDelayTimeout))}function t(){var n=Math.abs(session.previousX-session.currentX),t=Math.abs(session.previousY-session.currentY),l=n+t;l<e.intentSensitivity?(a(),u(),i.showTip(s)):(session.previousX=session.currentX,session.previousY=session.currentY,o())}function l(s){c=clearTimeout(c),(session.closeDelayTimeout&&T===session.closeDelayTimeout||s)&&a()}function a(){session.closeDelayTimeout=clearTimeout(session.closeDelayTimeout),session.delayInProgress=!1}function u(){session.delayInProgress&&session.activeHover&&!session.activeHover.is(s)&&session.activeHover.data(DATA_DISPLAYCONTROLLER).hide(!0)}function r(){i.resetPosition(s)}var c=null,T=null;this.show=o,this.hide=n,this.cancel=l,this.resetPosition=r}